{"version":3,"file":"mp.worker.js","sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/decode-uri-component/index.js","webpack:///./node_modules/filter-obj/index.js","webpack:///./node_modules/query-string/index.js","webpack:///./node_modules/split-on-first/index.js","webpack:///./node_modules/strict-uri-encode/index.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/apis/NavigationAPI.worker.js","webpack:///./src/apis/ap.worker.js","webpack:///./src/apis/callRender.worker.js","webpack:///./src/apis/index.worker.js","webpack:///./src/apis/invalidNavigateTo.js","webpack:///./src/apis/listen.worker.js","webpack:///./src/apis/util.js","webpack:///./src/apis/worker/Animation.js","webpack:///./src/apis/worker/canIUse.js","webpack:///./src/apis/worker/canvas/CanvasAPI.js","webpack:///./src/apis/worker/canvas/CanvasProtocolEncoder.js","webpack:///./src/apis/worker/canvas/bridge.js","webpack:///./src/apis/worker/createSelectorQuery.js","webpack:///./src/framework/App/index.worker.js","webpack:///./src/framework/AppRegistry/index.js","webpack:///./src/framework/Component/index.worker.js","webpack:///./src/framework/ComponentRegistry/getComponentClass.js","webpack:///./src/framework/ComponentRegistry/index.js","webpack:///./src/framework/EventHub.js","webpack:///./src/framework/Page/index.worker.js","webpack:///./src/framework/SubPackage/index.js","webpack:///./src/framework/common/commonLogic.js","webpack:///./src/framework/common/global.js","webpack:///./src/framework/index.worker.js","webpack:///./src/framework/legacy/CustomComponent.worker.js","webpack:///./src/framework/legacy/PageComponent.worker.js","webpack:///./src/framework/mixins/AppMixin.js","webpack:///./src/framework/mixins/MessageHandleMixin.js","webpack:///./src/framework/startupParams/index.js","webpack:///./src/framework/utils/appImpl.js","webpack:///./src/framework/utils/checkInvalidPage.js","webpack:///./src/framework/utils/env.js","webpack:///./src/framework/utils/fireComponentLifecycle.js","webpack:///./src/framework/utils/getComponentProp.js","webpack:///./src/framework/utils/pageInfoAndUrl.js","webpack:///./src/framework/utils/pageUtils.js","webpack:///./src/framework/utils/resolvePageUrl.js","webpack:///./src/framework/utils/resolveUrl.js","webpack:///./src/framework/worker/bootstrap.js","webpack:///./src/framework/worker/polyfill.js","webpack:///./src/index.worker.js","webpack:///./src/utils/EventEmitter.js","webpack:///./src/utils/LogBizType.js","webpack:///./src/utils/bridge.js","webpack:///./src/utils/consts.js","webpack:///./src/utils/endsWith.js","webpack:///./src/utils/errorCodes.js","webpack:///./src/utils/extraAPIMap.js","webpack:///./src/utils/extraComponentMap.js","webpack:///./src/utils/gerror.js","webpack:///./src/utils/getApplicationId.js","webpack:///./src/utils/getCurrentViewId.js","webpack:///./src/utils/getHomePage.js","webpack:///./src/utils/getScene.js","webpack:///./src/utils/invokeWithGuardAndReThrow.js","webpack:///./src/utils/isDebug.js","webpack:///./src/utils/isMiniAppPage.js","webpack:///./src/utils/loadExtraRes.js","webpack:///./src/utils/log.js","webpack:///./src/utils/mergeArray.js","webpack:///./src/utils/objectKeys.js","webpack:///./src/utils/reportError.worker.js","webpack:///./src/utils/resolvePath.js","webpack:///./src/utils/securityPatch.js","webpack:///./src/utils/setData.js","webpack:///./src/utils/shallowEqual.js","webpack:///./src/utils/startsWith.js","webpack:///./src/utils/startupParams/index.worker.js","webpack:///./src/utils/startupParams/startupParamsHolder.js","webpack:///./src/utils/stringToPath.js","webpack:///./src/utils/system.js","webpack:///./src/utils/upperFirstChar.js"],"sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.worker.js\");\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","'use strict';\nmodule.exports = function (obj, predicate) {\n\tvar ret = {};\n\tvar keys = Object.keys(obj);\n\tvar isArr = Array.isArray(predicate);\n\n\tfor (var i = 0; i < keys.length; i++) {\n\t\tvar key = keys[i];\n\t\tvar val = obj[key];\n\n\t\tif (isArr ? predicate.indexOf(key) !== -1 : predicate(key, val, obj)) {\n\t\t\tret[key] = val;\n\t\t}\n\t}\n\n\treturn ret;\n};\n","'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\nconst splitOnFirst = require('split-on-first');\nconst filterObject = require('filter-obj');\n\nconst isNullOrUndefined = value => value === null || value === undefined;\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[', index, ']'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')\n\t\t\t\t];\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[]'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '[]=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === null || value === undefined || value.length === 0) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\treturn [[encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(options.arrayFormatSeparator)];\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, encode(key, options)];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.includes(options.arrayFormatSeparator);\n\t\t\t\tconst isEncodedArray = (typeof value === 'string' && !isArray && decode(value, options).includes(options.arrayFormatSeparator));\n\t\t\t\tvalue = isEncodedArray ? decode(value, options) : value;\n\t\t\t\tconst newValue = isArray || isEncodedArray ? value.split(options.arrayFormatSeparator).map(item => decode(item, options)) : value === null ? value : decode(value, options);\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction validateArrayFormatSeparator(value) {\n\tif (typeof value !== 'string' || value.length !== 1) {\n\t\tthrow new TypeError('arrayFormatSeparator must be single character string');\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction getHash(url) {\n\tlet hash = '';\n\tconst hashStart = url.indexOf('#');\n\tif (hashStart !== -1) {\n\t\thash = url.slice(hashStart);\n\t}\n\n\treturn hash;\n}\n\nfunction extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parseValue(value, options) {\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\tvalue = Number(value);\n\t} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\tvalue = value.toLowerCase() === 'true';\n\t}\n\n\treturn value;\n}\n\nfunction parse(query, options) {\n\toptions = Object.assign({\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof query !== 'string') {\n\t\treturn ret;\n\t}\n\n\tquery = query.trim().replace(/^[?#&]/, '');\n\n\tif (!query) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of query.split('&')) {\n\t\tif (param === '') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet [key, value] = splitOnFirst(options.decode ? param.replace(/\\+/g, ' ') : param, '=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : ['comma', 'separator'].includes(options.arrayFormat) ? value : decode(value, options);\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\tfor (const key of Object.keys(ret)) {\n\t\tconst value = ret[key];\n\t\tif (typeof value === 'object' && value !== null) {\n\t\t\tfor (const k of Object.keys(value)) {\n\t\t\t\tvalue[k] = parseValue(value[k], options);\n\t\t\t}\n\t\t} else {\n\t\t\tret[key] = parseValue(value, options);\n\t\t}\n\t}\n\n\tif (options.sort === false) {\n\t\treturn ret;\n\t}\n\n\treturn (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (object, options) => {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ','\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst shouldFilter = key => (\n\t\t(options.skipNull && isNullOrUndefined(object[key])) ||\n\t\t(options.skipEmptyString && object[key] === '')\n\t);\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\tconst objectCopy = {};\n\n\tfor (const key of Object.keys(object)) {\n\t\tif (!shouldFilter(key)) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\t}\n\n\tconst keys = Object.keys(objectCopy);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (url, options) => {\n\toptions = Object.assign({\n\t\tdecode: true\n\t}, options);\n\n\tconst [url_, hash] = splitOnFirst(url, '#');\n\n\treturn Object.assign(\n\t\t{\n\t\t\turl: url_.split('?')[0] || '',\n\t\t\tquery: parse(extract(url), options)\n\t\t},\n\t\toptions && options.parseFragmentIdentifier && hash ? {fragmentIdentifier: decode(hash, options)} : {}\n\t);\n};\n\nexports.stringifyUrl = (object, options) => {\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true\n\t}, options);\n\n\tconst url = removeHash(object.url).split('?')[0] || '';\n\tconst queryFromUrl = exports.extract(object.url);\n\tconst parsedQueryFromUrl = exports.parse(queryFromUrl, {sort: false});\n\n\tconst query = Object.assign(parsedQueryFromUrl, object.query);\n\tlet queryString = exports.stringify(query, options);\n\tif (queryString) {\n\t\tqueryString = `?${queryString}`;\n\t}\n\n\tlet hash = getHash(object.url);\n\tif (object.fragmentIdentifier) {\n\t\thash = `#${encode(object.fragmentIdentifier, options)}`;\n\t}\n\n\treturn `${url}${queryString}${hash}`;\n};\n\nexports.pick = (input, filter, options) => {\n\toptions = Object.assign({\n\t\tparseFragmentIdentifier: true\n\t}, options);\n\n\tconst {url, query, fragmentIdentifier} = exports.parseUrl(input, options);\n\treturn exports.stringifyUrl({\n\t\turl,\n\t\tquery: filterObject(query, filter),\n\t\tfragmentIdentifier\n\t}, options);\n};\n\nexports.exclude = (input, filter, options) => {\n\tconst exclusionFilter = Array.isArray(filter) ? key => !filter.includes(key) : (key, value) => !filter(key, value);\n\n\treturn exports.pick(input, exclusionFilter, options);\n};\n","'use strict';\n\nmodule.exports = (string, separator) => {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (separator === '') {\n\t\treturn [string];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [string];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n};\n","'use strict';\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","import { getAppImpl } from '@/framework/App';\nimport getCurrentViewId from '@/utils/getCurrentViewId';\n\nimport invalidNavigateTo from './invalidNavigateTo';\nimport { handleResultCallback } from './util';\nimport ap from './ap';\n\nexport function getNavigationAPI(ap) {\n  const { callBridge } = ap;\n\n  function doSwitch({ pagePath }, recreate) {\n    callBridge('switchTab', {\n      tag: pagePath,\n      recreate,\n    });\n  }\n\n  function doPush({ url, pagePath, viewId }, param) {\n    callBridge('pushWindow', {\n      url,\n      viewId,\n      launchParamsTag: pagePath,\n      param,\n    });\n  }\n\n  return {\n    reLaunch(params) {\n      getAppImpl().reLaunch({\n        url: params.url,\n      }, {\n        pushWindow: function pushWindow(param) {\n          return doPush(param, {\n            closeAllWindow: true,\n            animationType: 'none',\n          });\n        },\n        switchTab: function switchTab(param) {\n          return doSwitch(param, true);\n        },\n      });\n\n      handleResultCallback(params);\n    },\n    navigateTo(params) {\n      if (invalidNavigateTo(params)) {\n        return;\n      }\n      getAppImpl().navigateTo({\n        url: params.url,\n        viewId: params.viewId || getCurrentViewId(),\n      }, { pushWindow: doPush });\n\n      handleResultCallback(params);\n    },\n    switchTab(params) {\n      getAppImpl().switchTab({\n        url: params.url,\n      }, { doSwitch });\n\n      handleResultCallback(params);\n    },\n    redirectTo(params) {\n      getAppImpl().redirectTo({\n        url: params.url,\n      }, {\n        pushWindow: function pushWindow(param) {\n          doPush(param, {\n            closeCurrentWindow: true,\n            animationType: 'none',\n          });\n        },\n      });\n      \n      handleResultCallback(params);\n    },\n    navigateBack(params = {}) {\n      const error = getAppImpl().navigateBack({\n        delta: params.delta,\n      }, ({ delta }) => {\n        callBridge('popTo', {\n          index: -delta,\n        });\n      });\n\n      if (error) {\n        handleResultCallback(params, {\n          error,\n        });\n      } else {\n        handleResultCallback(params);\n      }\n    },\n  };\n}\n\nexport default getNavigationAPI(ap);\n","\nimport { debug } from '@/utils/log';\nimport callRender from './callRender';\nimport { getStartupParams } from '@/utils/startupParams';\nimport EventEmitter from '@/utils/EventEmitter';\nimport { isDebugFramework } from '@/utils/isDebug';\n\nconst g = self;\nconst globalEmitter = new EventEmitter();\n\nfunction log(...args) {\n  // debug.apply(undefined, ['framework'].concat(args));\n  debug('framework', ...args);\n}\n\nfunction getUserEventName(name) {\n  return `_$${name}`;\n}\n\nfunction getUserEventDataName(name) {\n  return `_data_$${name}`;\n}\n\nfunction cleanEventData(userEventData) {\n  if (userEventData && typeof userEventData === 'object' && 'NBPageUrl' in userEventData) {\n    userEventData = { ...userEventData };\n    delete userEventData.NBPageUrl;\n  }\n\n  return userEventData;\n}\n\nfunction doEventCallback(options) {\n  const name = options.eventName;\n\n  const userEventName = getUserEventName(name);\n  const userEventDataName = getUserEventDataName(name);\n  const hasSysEvent = globalEmitter.listenerCount(name);\n  const hasUserEvent = globalEmitter.listenerCount(userEventName);\n  const hasUserEventData = globalEmitter.listenerCount(userEventDataName);\n  if (hasUserEvent || hasSysEvent || hasUserEventData) {\n    const evt = { \n      name, \n      type: name,\n      data: options.param,\n      viewId: options.viewId,\n    };\n\n    globalEmitter.emit(name, evt);\n\n    if (hasUserEvent) {\n      const userEvent = { ...evt };\n      delete userEvent.viewId;\n      userEvent.data = cleanEventData(userEvent.data);\n      globalEmitter.emit(userEventName, userEvent);\n    }\n    if (hasUserEventData) {\n      const userEventData = cleanEventData(evt.data);\n      globalEmitter.emit(userEventDataName, userEventData);\n    }\n  }\n}\n\nconst JSBridge = g.JSBridge;\n\ng.callRender = callRender;\n\n/* native事件触发 */\ng.addEventListener('push', (evt) => {\n  const { data } = evt;\n  const options = {\n    param: data.param,\n    viewId: data.viewId,\n  };\n  options.eventName = data.func;\n  doEventCallback(options);\n})\n\nlet API = {};\nconst notCallbackAPI = {\n  popTo: true,\n  switchTab: true,\n  onAppPerfEvent: true,\n  pushWindow: true,\n  remoteLog: true,\n  reportData: true,\n};\n\nconst ap = {\n  injectAPI(_API) {\n    API = _API;\n  },\n  getAPI() {\n    return API;\n  },\n  emitUserEvent(type, ...args) {\n    return globalEmitter.emit.apply(globalEmitter, [getUserEventName(type)].concat(args));\n  },\n  emitUserEventData(type, ...args) {\n    return globalEmitter.emit.apply(globalEmitter, [getUserEventDataName(type)].concat(args));\n  },\n  onUserEvent(name, callback) {\n    return globalEmitter.on(getUserEventName(name), callback);\n  },\n  offUserEvent(name, callback) {\n    return globalEmitter.off(getUserEventName(name), callback);\n  },\n  onUserEventData(name, callback) {\n    return globalEmitter.on(getUserEventDataName(name), callback);\n  },\n  offUserEventData(name, callback) {\n    return globalEmitter.off(getUserEventDataName(name), callback);\n  },\n  on(...args) {\n    return globalEmitter.on.call(globalEmitter, ...args);\n  },\n  off(...args) {\n    return globalEmitter.off.call(globalEmitter, ...args);\n  },\n  emit(...args) {\n    return globalEmitter.emit.call(globalEmitter, ...args);\n  },\n  callBridge(method, params, callback) {\n    log('callBridge', method, params);\n    // 这里调用bridge的方法\n    JSBridge.call(method, params, callback);\n  },\n  callBridgeSync(method, params) {\n    log('callBridgeSync', method, params);\n    const res = JSBridge.callSync(method, params);\n    log('callBridgeSync return', method, params, res);\n    if (res && res.error) {\n      log('callBridgeSync error:', method, params, res);\n    }\n    return res;\n  },\n};\n\nconst ddOrAp = true || false;\n/* param must be a object... */\nap.callInternalAPI = function (method, param = {}, callback) {\n  if (ddOrAp && !getStartupParams().isInternalApp) {\n    const internalParams = {\n      method,\n      param,\n    };\n    if ('viewId' in param) {\n      internalParams.viewId = param.viewId;\n    }\n    ap.callBridge('internalAPI', internalParams, callback);\n  } else {\n    ap.callBridge(method, param, callback);\n  }\n};\n\nap.callInternalAPISync = function (method, param = {}) {\n  if (ddOrAp && !getStartupParams().isInternalApp) {\n    const internalParams = {\n      method,\n      param,\n    };\n    if ('viewId' in param) {\n      internalParams.viewId = param.viewId;\n    }\n    return ap.callBridgeSync('internalAPI', internalParams);\n  } else {\n    return ap.callBridgeSync(method, param);\n  }\n};\n\nexport default ap;\n","\nimport { getCurrentPageImpl, getCurrentPagesImpl } from '@/framework/App';\n\nexport default function callRender(method, params = {}) {\n  const { homepage = false, args: innerArgs = [], caller = 'bridge' } = params;\n\n  const pages = getCurrentPagesImpl();\n  const page = params.page || (homepage ? pages && pages[0] : getCurrentPageImpl());\n  if (!page) {\n    console.warn('Can not getCurrentPage for callBridge.worker!', method, params);\n    return;\n  }\n  \n  const args = [caller, method].concat(innerArgs);\n  let lastArg = args[args.length - 1];\n  if (lastArg) {\n    if (typeof lastArg === 'object') {\n      const { success, fail, complete } = lastArg;\n\n      if (success || fail || complete) {\n        args[args.length - 1] = lastArg = { ...lastArg };\n        delete lastArg.success;\n        delete lastArg.fail;\n        delete lastArg.complete;\n        args.push((...args) => {\n          if (success) {\n            success(...args);\n          }\n          if (complete) {\n            complete(...args);\n          }\n        });\n        args.push((...args) => {\n          if (fail) {\n            fail(...args);\n          }\n          if (complete) {\n            complete(...args);\n          }\n        });\n      }\n    } else if (typeof lastArg === 'function') {\n      args.push(lastArg);\n    }\n  }\n  page.callRemote.call(page, ...args);\n}\n","import { $global, getCurrentPageImpl } from '@/framework/';\nimport { compareSystemVersion, SDKVersion, logSystemInfo } from '@/utils/system';\nimport upperFirstChar from '@/utils/upperFirstChar';\nimport objectKeys from '@/utils/objectKeys';\nimport extraAPIMap from '@/utils/extraAPIMap';\nimport loadExtraRes from '@/utils/loadExtraRes';\nimport {\n  CUSTOM_WORKER_ERROR,\n} from '@/utils/errorCodes';\nimport reportError from '@/utils/reportError';\nimport { apCallback } from '@/utils/bridge';\n\nimport NavigationAPI from './NavigationAPI';\nimport listen from './listen';\nimport callRender from './callRender';\n\nimport ap from './ap';\nimport canIUse from './worker/canIUse';\nimport createSelectorQuery from './worker/createSelectorQuery';\nimport CanvasAPI from './worker/canvas/CanvasAPI';\nimport Animation from './worker/Animation';\n\nconst { \n  callBridge, \n  callBridgeSync, \n  callInternalAPI, \n  callInternalAPISync,\n} = ap;\n\nconst g = self;\n\nconst bridge = {\n  renderTarget: 'web',\n  on(name, fn) {\n    ap.onUserEvent(name, fn);\n    return {\n      remove: function remove() {\n        ap.offUserEvent(name, fn);\n      },\n    };\n  },\n  // for test\n  emit(...args) {\n    ap.emitUserEvent.call(ap, ...args);\n  },\n  call(...args) {\n    callBridge.call(ap, ...args);\n  },\n  callSync(...args) {\n    callBridgeSync.call(ap, ...args);\n  },\n  ...NavigationAPI,\n  // for internal call render\n  postMessage(data) {\n    callRender('fireMessage', {\n      args: [data],\n    });\n  },\n  createAnimation(config = {}) {\n    return new Animation(config);\n  },\n  pageScrollTo(...args) {\n    callRender('pageScrollTo', {\n      args,\n    });\n  },\n\n  SDKVersion,\n  // for canvas web\n  __emit(...args) {\n    ap.emit.apply(ap, args);\n  },\n  preloadResource(res) {\n    if (typeof fetch === 'function' && res.indexOf('alipay.kylinbridge') === -1) {\n      fetch(res);\n    }\n  },\n  getExtConfigSync() {\n    return g.mpAppJson && g.mpAppJson.app && g.mpAppJson.app.ext;\n  },\n  canIUse(name) {\n    return canIUse(bridge, name);\n  },\n  createSelectorQuery,\n  loadFontFace(params) {\n    const { page } = params;\n\n    let config;\n    if (page) {\n      config = {\n        viewId: page.$viewId,\n      };\n    }\n\n    const { success, fail, complete, ...data } = params;\n\n    (page || getCurrentPageImpl()).callRemote('bridge', 'loadFontFace', data, (res) => {\n      success && success(res);\n      complete && complete(res);\n    }, (error) => {\n      fail && fail(error);\n      complete && complete(error);\n    });\n  },\n  stopPullDownRefresh(params = {}) {\n    let config;\n    const { page } = params;\n\n    if (page) {\n      config = {\n        viewId: page.$viewId,\n      };\n    }\n    callBridge('restorePullToRefresh', config);\n    apCallback(params);\n  },\n  hideKeyboard(params = {}) {\n    let config;\n    const { page } = params;\n\n    if (page) {\n      config = {\n        viewId: page.$viewId,\n      };\n    }\n    // custom keyboard\n    callInternalAPI('hideCustomKeyBoard', config);\n    (page || getCurrentPageImpl()).callRemote('bridge', 'hideKeyboard');\n  },\n  reportCustomError(error) {\n    reportError(CUSTOM_WORKER_ERROR, {\n      col: error.column,\n      line: error.line,\n      msg: error.message,\n      url: error.sourceURL,\n      error: {\n        column: error.column,\n        line: error.line,\n        message: error.message,\n        sourceURL: error.sourceURL,\n      },\n    });\n  },\n  ...CanvasAPI,\n  // createMapContext(element) {\n  //   return new _worker_MapContext__WEBPACK_IMPORTED_MODULE_7__.default({\n  //     element,\n  //     page: getCurrentPageImpl(),\n  //   });\n  // },\n  // ..._worker_MiniServiceAPI__WEBPACK_IMPORTED_MODULE_21__.default,\n  // ..._worker_setOptionMenuAPI__WEBPACK_IMPORTED_MODULE_25__.default,\n  // ..._worker_GetAuthorizeAPI__WEBPACK_IMPORTED_MODULE_17__.default,\n  // ..._worker_GetRecorderContext__WEBPACK_IMPORTED_MODULE_15__.default,\n  // ..._worker_GetUpdateManager__WEBPACK_IMPORTED_MODULE_16__.default,\n  // ..._worker_FileSystemManager__WEBPACK_IMPORTED_MODULE_29__.default,\n  // ..._worker_IntersectionObserver__WEBPACK_IMPORTED_MODULE_27__.default,\n  // ..._worker_EnvAPI__WEBPACK_IMPORTED_MODULE_23__.default,\n  // ..._worker_CustomWorkerAPI__WEBPACK_IMPORTED_MODULE_24__.default,\n  // ..._worker_WebsocketAPI__WEBPACK_IMPORTED_MODULE_22__.default,\n  // ..._worker_NetworkAPI__WEBPACK_IMPORTED_MODULE_28__.default,\n  // ..._worker_AudioAPI__WEBPACK_IMPORTED_MODULE_14__.default,\n  // ..._worker_VideoAPI__WEBPACK_IMPORTED_MODULE_13__.default,\n  // ..._worker_TrackerAPI__WEBPACK_IMPORTED_MODULE_11__.default,\n};\n\nlisten(ap, bridge);\n\nobjectKeys(extraAPIMap).forEach((item) => {\n  const APIName = item.split('.');\n  const ns = APIName.length === 2 ? APIName[0] : undefined;\n  const realAPIName = APIName.length === 2 ? APIName[1] : APIName[0];\n  let targetBridge = bridge;\n  if (ns) {\n    targetBridge = bridge[ns] || {};\n  }\n  Object.defineProperty(targetBridge, realAPIName, {\n    enumerable: true,\n    value: function value(params) {\n      const extraAPIName = upperFirstChar(realAPIName);\n      if (g[`MP${extraAPIName}`]) {\n        g[`MP${extraAPIName}`](params, {\n          callBridge,\n          callBridgeSync,\n        });\n      } else {\n        loadExtraRes(extraAPIMap[item]);\n        if (g[`MP${extraAPIName}`]) {\n          g[`MP${extraAPIName}`](params, {\n            callBridge,\n            callBridgeSync,\n          });\n        } else {\n          console.error(`API mp.${item} not found`);\n        }\n      }\n    },\n  });\n});\n\nlogSystemInfo();\n$global.bridge = bridge;\n\nexport default bridge;\n","\nimport { getCurrentPagesImpl } from '@/framework/App';\n\nexport default function invalidNavigateTo(params = {}) {\n  const { mpRuntimeConfig } = self;\n\n  const limit = mpRuntimeConfig && mpRuntimeConfig.navigationStackLimits || 10;\n  if (getCurrentPagesImpl().length >= limit) {\n    const { fail } = params;\n    const { complete } = params;\n\n    const error = {\n      error: 1,\n      errorMessage: `depth can not be more than ${limit}`,\n    };\n    if (fail) {\n      fail(error);\n    }\n    if (complete) {\n      complete(error);\n    }\n    return true;\n  }\n  return false;\n}\n","\nimport qs from 'query-string';\nimport { $global } from '@/framework/';\nimport { getAppImpl } from '@/framework/App';\nimport EventHub from '@/framework/EventHub';\nimport getScene from '@/utils/getScene';\nimport isMiniAppPage from '@/utils/isMiniAppPage';\nimport { getStartupParams } from '@/framework/startupParams';\nimport gerror from '@/utils/gerror';\n\nconst g = self;\n\nexport default function listen(ap, bridge) {\n  const isCli = getStartupParams().mpCli;\n  if (!isCli) {\n    const _self = self;\n    const { mpAppJson } = _self;\n\n    const preloadRule = mpAppJson && mpAppJson.app.preloadRule;\n    if (preloadRule) {\n      EventHub.addListener('pageLoad', ({ page }) => {\n        const pagePath = page.getPagePath();\n        const rule = preloadRule[pagePath];\n        if (rule) {\n          bridge.call('loadSubPackage', rule);\n        }\n      });\n    }\n  }\n  \n  ap.on('appResume', (e) => {\n    let { query, page, referrerInfo, shouldNotReLaunch, NBPageUrl } = e.data;\n\n    let options = {};\n    let pageName;\n    if (page) {\n      if (page.charAt(0) === '/') {\n        page = page.slice(1);\n      }\n      pageName = page;\n      const index = page.indexOf('?');\n      if (index !== -1) {\n        pageName = page.slice(0, index);\n      }\n      options.path = pageName;\n      if (!$global.pagesConfig[pageName]) {\n        ap.call('toast', {\n          content: '页面已失效!',\n          type: 'exception',\n        });\n        const _e = new Error(`Page ${pageName} Not Found when appResume`);\n        gerror(_e);\n        query = null;\n        page = null;\n        options = {};\n      }\n    }\n    if (query) {\n      query = qs.parse(query);\n      options.query = query;\n    }\n    if (referrerInfo) {\n      options.referrerInfo = JSON.parse(referrerInfo);\n    }\n    options.scene = getScene(e.data);\n    getAppImpl().show(options, isMiniAppPage(NBPageUrl));\n    if (shouldNotReLaunch) {\n      getAppImpl().clearAllPages();\n    } else if (options.path) {\n      if (page.charAt(0) !== '/') {\n        page = `/${page}`;\n      }\n      bridge.reLaunch({\n        url: page,\n      });\n    }\n  });\n\n  function hideApp(hidePage) {\n    getAppImpl().hide(hidePage);\n  }\n  ap.on('appPause', (e) => {\n    const { NBPageUrl } = e.data;\n\n    hideApp(isMiniAppPage(NBPageUrl));\n  });\n\n  ap.on('beforeDestroy', (e) => {\n    const { NBPageUrl } = e.data;\n\n    if (!isMiniAppPage(NBPageUrl)) {\n      return;\n    }\n    const app = getAppImpl();\n    if (app) {\n      app.destroyPageByUrl(NBPageUrl);\n    }\n  });\n\n  ap.on('pagePause', (e) => {\n    const { NBPageUrl } = e.data;\n\n    if (!isMiniAppPage(NBPageUrl)) {\n      return;\n    }\n    getAppImpl().pausePageByUrl(NBPageUrl);\n  });\n\n  ap.on('pageResume', (e) => {\n    const { NBPageUrl } = e.data;\n\n    if (!isMiniAppPage(NBPageUrl)) {\n      return;\n    }\n    getAppImpl().resumePageByUrl(NBPageUrl);\n  });\n  \n  ap.on('tabClick', (e) => {\n    const { tag, from = 'user', text, index } = e.data;\n\n    getAppImpl().switchTab({\n      url: `/${tag}`,\n      from,\n      pagePath: tag,\n      text,\n      index,\n    });\n  });\n}\n","\nimport { getCurrentPageImpl, getStartupParams, $global } from '@/framework/';\nimport getHomePage from '@/utils/getHomePage';\nimport { APP_BIZ } from '../utils/LogBizType';\nimport objectKeys from '../utils/objectKeys';\n\nfunction escapeDot(str) {\n  return str.replace(/\\./g, '_DOT_');\n}\n\nexport function getAutoTrackerConfig(_pagePath) {\n  let pagePath = _pagePath || '';\n  if (!pagePath && getCurrentPageImpl()) {\n    pagePath = getCurrentPageImpl().getPagePath();\n  }\n\n  const _getStartupParams = getStartupParams();\n  const { appId } = _getStartupParams;\n\n  return {\n    spmId: `MiniApp_${appId}.${escapeDot(pagePath)}`,\n    bizType: APP_BIZ(),\n  };\n}\n\nconst noop = function noop() {};\n\nexport function handleCallbackParams(params, resolve, reject) {\n  const { success = noop, fail = noop, complete = noop, ...rest } = params;\n\n  const newSuccess = function newSuccess(ret) {\n    success(ret);\n    if (resolve) {\n      resolve(ret);\n    }\n    complete(ret);\n  };\n  const newFail = function newFail(ret) {\n    fail(ret);\n    if (reject) {\n      reject(ret);\n    }\n    complete(ret);\n  };\n  return { success: newSuccess, fail: newFail, ...rest };\n}\n\nexport function needBackHome() {\n  const homepage = getHomePage();\n  const tabs = objectKeys($global.tabsConfig);\n  // 页面堆栈第一个元素\n  const currentStackTop = getCurrentPagesImpl()[0].getPagePath();\n  const notHomePage = homepage && currentStackTop !== homepage;\n  return notHomePage && tabs.indexOf(currentStackTop) === -1;\n}\n\nexport function handleResultCallback(params = {}, res) {\n  const { complete, success, fail } = params;\n\n  if (res && res.error) {\n    if (fail) {\n      fail(res);\n    }\n  } else if (success) {\n    success(res);\n  }\n  if (complete) {\n    complete(res);\n  }\n}\n\n","\nclass Animation {\n  constructor(config) {\n    this.config = { ...config };\n    this.config.duration = this.config.duration || 400;\n    this.config.timeFunction = this.config.timeFunction || 'linear';\n    this.config.transformOrigin = this.config.transformOrigin || '50% 50% 0';\n    this.animations = [];\n    this.currentAnimation = [];\n  }\n\n  step(config) {\n    this.animations.push({\n      config: { ...this.config, ...config },\n      animation: this.currentAnimation,\n    });\n    this.currentAnimation = [];\n    return this;\n  }\n\n  export() {\n    const { animations } = this;\n    this.animations = [];\n    return animations;\n  }\n}\nconst methods = [\n  'opacity', \n  'backgroundColor', \n  'width', \n  'height', \n  'top', \n  'left', \n  'bottom', \n  'right', \n  'rotate', \n  'rotateX', \n  'rotateY', \n  'rotateZ', \n  'rotate3d', \n  'skew', \n  'skewX', \n  'skewY', \n  'scale', \n  'scaleX', \n  'scaleY', \n  'scaleZ', \n  'scale3d', \n  'translate', \n  'translateX', \n  'translateY', \n  'translateZ', \n  'translate3d'\n];\nconst proto = Animation.prototype;\nmethods.forEach((m) => {\n  proto[m] = function run(...args) {\n    this.currentAnimation.push([m, args]);\n    return this;\n  };\n});\n\nexport default Animation;\n","\nimport {\n  isNativeComponent,\n  compareSystemVersion,\n} from '@/utils/system';\nimport objectKeys from '@/utils/objectKeys';\nimport upperFirstChar from '@/utils/upperFirstChar';\nimport loadExtraRes from '@/utils/loadExtraRes';\nimport extraComponentMap from '@/utils/extraComponentMap';\nimport extraAPIMap from '@/utils/extraAPIMap';\n\nconst g10135 = Object(compareSystemVersion)('10.1.35') >= 0;\nconst g10138 = Object(compareSystemVersion)('10.1.38') >= 0;\nconst g10150 = Object(compareSystemVersion)('10.1.50') >= 0;\nconst uses = {\n  alert: {\n    object: {\n      confirmColor: g10138,\n    },\n  },\n  confirm: {\n    object: {\n      cancelColor: g10138,\n      confirmColor: g10138,\n    },\n  },\n  prompt: {\n    object: {\n      cancelColor: g10138,\n      confirmColor: g10138,\n    },\n  },\n  navigateToMiniProgram: {\n    object: {\n      envVersion: 1,\n      version: g10135,\n    },\n  },\n  navigateToMiniService: {\n    object: {\n      servicePage: 1,\n    },\n  },\n  showActionSheet: {\n    object: {\n      badges: 1,\n    },\n  },\n  camera: g10135 && isNativeComponent,\n  createCanvasContext: {\n    return: {\n      measureText: 1,\n      getImageData: 1,\n      putImageData: 1,\n      globalCompositeOperation: 1,\n      draw: {\n        callback: 1,\n      },\n    },\n  },\n  createVideoContext: {\n    return: {\n      mute: 1,\n      stop: 1,\n    },\n  },\n  chooseImage: {\n    object: {\n      sizeType: 1,\n    },\n    return: {\n      tempFiles: 1,\n    },\n  },\n  component: 1,\n  cdp: isNativeComponent,\n  page: {\n    onOptionMenuClick: 1,\n    setData: {\n      callback: 1,\n    },\n    $spliceData: 1,\n    onPopMenuClick: g10135,\n    onTabItemTap: g10135,\n  },\n  getLocation: {\n    object: {\n      type: 1,\n    },\n  },\n  button: {\n    'open-type': {\n      share: 1,\n      lifestyle: g10135,\n      launchApp: g10135,\n      getAuthorize: g10135,\n      contactShare: g10135,\n    },\n  },\n  datePicker: {\n    object: {\n      format: {\n        yyyy: 1,\n        'yyyy-MM': 1,\n      },\n    },\n  },\n  getImageInfo: {\n    return: {\n      orientation: 1,\n      type: 1,\n    },\n  },\n  getSystemInfo: {\n    return: {\n      storage: 1,\n      currentBattery: 1,\n      brand: 1,\n      fontSizeSetting: 1,\n    },\n  },\n  getRecorderManager: {\n    onFrameRecorded: g10138,\n    offFrameRecorded: g10138,\n    pause: g10150,\n    resume: g10150,\n    onPause: g10150,\n    offPause: g10150,\n    onResume: g10150,\n    offResume: g10150,\n  },\n  favorite: 1,\n  form: {\n    'report-submit': 1,\n  },\n  lifestyle: 1,\n  'live-player': g10135 && isNativeComponent,\n  'live-pusher': g10135 && isNativeComponent,\n  lottie: g10135 && isNativeComponent,\n  connectSocket: {\n    object: {\n      protocols: 1,\n      multiple: g10135,\n    },\n    return: {\n      send: g10135,\n      close: g10135,\n      onMessage: g10135,\n      onOpen: g10135,\n      onClose: g10135,\n      onError: g10135,\n      offMessage: g10135,\n      offOpen: g10135,\n      offClose: g10135,\n      offError: g10135,\n    },\n  },\n  closeSocket: {\n    object: {\n      code: 1,\n      reason: 1,\n    },\n  },\n  scan: {\n    object: {\n      hideAlbum: 1,\n    },\n  },\n  'contact-button': {\n    'ext-info': 1,\n    size: 1,\n    color: 1,\n    icon: 1,\n  },\n  'web-view': {\n    'app-id': 1,\n  },\n  input: {\n    controlled: 1,\n    'random-number': 1,\n    'confirm-type': isNativeComponent,\n    'confirm-hold': isNativeComponent,\n    cursor: isNativeComponent,\n    'selection-start': isNativeComponent,\n    'selection-end': isNativeComponent,\n  },\n  switch: {\n    controlled: 1,\n  },\n  textarea: {\n    controlled: 1,\n    fixed: g10135 && isNativeComponent,\n    cursorSpacing: g10135 && isNativeComponent,\n    cursor: g10135 && isNativeComponent,\n    showConfirmBar: g10135 && isNativeComponent,\n    selectionStart: g10135 && isNativeComponent,\n    selectionEnd: g10135 && isNativeComponent,\n    adjustPosition: g10135 && isNativeComponent,\n  },\n  checkbox: {\n    controlled: 1,\n  },\n  video: {\n    'initial-time': isNativeComponent,\n    loop: isNativeComponent,\n    muted: isNativeComponent,\n    'show-fullscreen-btn': isNativeComponent,\n    'show-center-play-btn': isNativeComponent,\n    onLoading: isNativeComponent,\n    onStop: isNativeComponent,\n    direction: g10138 && isNativeComponent,\n    onFullScreenChange: g10138 && isNativeComponent,\n  },\n  view: {\n    onTransitionEnd: 1,\n    onAnimationStart: 1,\n    onAnimationIteration: 1,\n    onAnimationEnd: 1,\n    onAppear: 1,\n    onDisappear: 1,\n    onFirstAppear: 1,\n  },\n  'scroll-view': {\n    'enable-back-to-top': g10135,\n  },\n  'cover-view': isNativeComponent,\n  'cover-image': isNativeComponent,\n  createWorker: g10135,\n  downloadFile: {\n    return: {\n      abort: g10135,\n      onProgressUpdate: g10135,\n    },\n  },\n  uploadFile: {\n    return: {\n      abort: g10135,\n      onProgressUpdate: g10135,\n    },\n  },\n  'rich-text': 1,\n};\nfunction canIUse(bridge, name) {\n  const parts = name.split('.');\n  if (parts.length === 1 && bridge[parts[0]]) {\n    return true;\n  }\n  let end = uses;\n  // 动态挂载二方组件caniuse配置\n  if (!uses[parts[0]] && objectKeys(extraComponentMap).indexOf(parts[0]) > -1) {\n    loadExtraRes(extraComponentMap[parts[0]]);\n    const extraComponentName = parts[0].split('-').map((item) => {\n      return upperFirstChar(item);\n    }).join('');\n    // 挂载到global下\n    if (global[`MP${extraComponentName}`]) {\n      uses[parts[0]] = global[`MP${extraComponentName}`].canIUse;\n    } else {\n      console.error(`component ${parts[0]}'s canIUse is invalid`);\n    }\n  }\n  // 动态加载二方API的caniuse配置\n  // 还需要考虑ns，目前只考虑ap这个命名空间\n  let extraAPIName = parts[0];\n  let needLoadExtraAPICanIUse = false;\n  if (['ap'].indexOf(parts[0]) > -1 && parts.length > 1) {\n    uses[parts[0]] = uses[parts[0]] || {};\n    extraAPIName = `${parts[0]}.${parts[1]}`;\n    needLoadExtraAPICanIUse = !uses[parts[0]][parts[1]];\n  } else {\n    needLoadExtraAPICanIUse = !uses[parts[0]];\n  }\n  if (needLoadExtraAPICanIUse && objectKeys(extraAPIMap).indexOf(extraAPIName) > -1) {\n    loadExtraRes(extraAPIMap[extraAPIName]);\n    const realExtraAPIName = extraAPIName.split('.')[extraAPIName.split('.').length - 1];\n    // 挂载到global下\n    const realExtraAPI = global[`MP${upperFirstChar(realExtraAPIName)}`];\n    if (realExtraAPI) {\n      if (parts.length > 1) {\n        uses[parts[0]][parts[1]] = realExtraAPI.canIUse;\n      } else {\n        uses[parts[0]] = realExtraAPI.canIUse;\n      }\n    } else {\n      console.error(`API ${extraAPIName}'s canIUse is invalid`);\n    }\n  }\n  for (let i = 0; i < parts.length; i++) {\n    end = end[parts[i]];\n    if (!end) {\n      return false;\n    }\n  }\n  return true;\n}\n\nexport default canIUse;\n","\nimport callRender from '@/apis/callRender.worker';\nimport { getStartupParams, getCurrentPageImpl } from '@/framework/';\nimport ap from '@/apis/ap';\nimport { isNativeComponent } from '@/utils/system';\nimport objectKeys from '@/utils/objectKeys';\nimport EventEmitter from '@/utils/EventEmitter';\nimport resolvePath from '@/utils/resolvePath';\nimport upperFirstChar from '@/utils/upperFirstChar';\nimport { handleCallbackParams } from '../../util';\nimport CanvasProtocolEncoder from './CanvasProtocolEncoder';\nimport { callBridgeAPI, callCanvasBridge } from './bridge';\n\nconst styleProperties = ['fillStyle', 'strokeStyle', 'globalAlpha', 'lineWidth', 'lineCap', 'lineJoin', 'miterLimit', 'textBaseline', 'lineDashOffset', 'textAlign', 'globalCompositeOperation'];\nfunction getSetUpperName(name) {\n  return `set${upperFirstChar(name)}`;\n}\nfunction clean(obj) {\n  const ret = { ...obj };\n  delete ret.success;\n  delete ret.error;\n  delete ret.complete;\n  return ret;\n}\nconst allSetProperties = [].concat(styleProperties, ['shadow', 'fontSize', 'font']);\n\nfunction Context(id, { page, enableNative }) {\n  this.callBackMap = {};\n  this.actions = [];\n  this.callId = 0;\n  this.id = id;\n  this.emitter = new EventEmitter();\n  this.page = page;\n  this.enableNative = enableNative !== false && isNativeComponent && getStartupParams().hasNativeCanvas;\n  this.state = {\n    font: '10px Arial',\n    fontSize: 10,\n    fontWeight: 'normal',\n    fontStyle: 'normal',\n    fontFamily: 'Arial',\n  };\n  // 以下为compact协议中使用字段\n  // 是否开启字符协议, 用于调试\n  // 开启条件(需都满足)：\n  // 1.选择使用native canvas\n  // 2.android平台, 且客户端通过动态推包获取到native canvas bundle\n  // 3.启动参数中nativeCanvasCompactProtocol标记位为true\n  if (this.enableNative) {\n    this.enableCompactProtocol = getStartupParams().nativeCanvasCompactProtocol;\n    this.protocolVersion = '1';\n    // 前端管理图片的异步加载，包括已加载图片buffer, 正在加载的图片buffer, 等待加载的frame buffer的图片buffer, 防止重复调用\n    // 图片buffer只有compact协议中才使用\n    this.localImageBuffer = {};\n    // 正在loading的图片buffer\n    this.localImageLoadingBuffer = {};\n    this.actionsShouldLoadImage = false;\n  }\n  const ctx = this;\n  allSetProperties.forEach((style) => {\n    Object.defineProperty(ctx, style, {\n      configurable: true,\n      set: function set(value) {\n        ctx[getSetUpperName(style)](value);\n      },\n    });\n  });\n}\n\nconst imageDataAPI = {\n  getImageData: {\n    v: function v(opt) {\n      if ((Number(opt.width) || 0) === 0) {\n        return {\n          message: 'the source width is 0',\n        };\n      }\n      if ((Number(opt.height) || 0) === 0) {\n        return {\n          message: 'the source height is 0',\n        };\n      }\n    },\n    b: function b(opt) {\n      opt.x = Number(opt.x) || 0;\n      opt.y = Number(opt.y) || 0;\n      opt.width = Number(opt.width) || 0;\n      opt.height = Number(opt.height) || 0;\n    },\n    a: function a(res) {\n      res.data = new Uint8ClampedArray(res.data);\n    },\n  },\n  putImageData: {\n    v: function v(opt) {\n      if (typeof opt.width !== 'number') {\n        return {\n          message: 'width argument must be an Number',\n        };\n      }\n      if (Object.prototype.toString.call(opt.data) !== '[object Uint8ClampedArray]') {\n        return {\n          message: 'data argument must be an Uint8ClampedArray',\n        };\n      }\n    },\n    b: function b(opt) {\n      opt.x = Number(opt.x) || 0;\n      opt.y = Number(opt.y) || 0;\n      opt.height = typeof opt.height === 'number' ? opt.height : opt.data.length / opt.width / 4 | 0;\n      opt.data = Array.prototype.slice.call(opt.data);\n    },\n  },\n};\n\nconst contextPrototype = Context.prototype = {\n  _getPage: function _getPage() {\n    return this.page || getCurrentPageImpl();\n  },\n  _listen: function _listen(type, callback) {\n    const _this = this;\n\n    const { emitter } = this;\n\n    emitter.on(type, callback);\n    if (emitter.listenerCount(type) === 1 && !this.callBackMap[type]) {\n      const listener = this.callBackMap[type] = function (e) {\n        if (e.viewId === _this._getPage().getViewId() && e.data.element === _this.id) {\n          const data = { ...e.data };\n          delete data.NBPageUrl;\n          data.type = data.eventType;\n          delete data.eventType;\n          emitter.emit(type, data);\n        }\n      };\n      ap.on(type, listener);\n    }\n  },\n  _unListen: function _unListen(type, callback) {\n    const { emitter } = this;\n\n    emitter.off(type, callback);\n    if (emitter.listenerCount(type) === 0) {\n      const listener = this.callBackMap[type];\n      if (listener) {\n        ap.off(type, listener);\n        delete this.callBackMap[type];\n      }\n    }\n  },\n  _commitDrawFrame: function _commitDrawFrame(reserve, actions, callback) {\n    const actionsEncoded = CanvasProtocolEncoder.encodeDrawActions(this, actions);\n    if (this.enableNative) {\n      const data = {\n        timeStamp: Date.now(),\n        actions: actionsEncoded,\n        reserve,\n      };\n      // 告诉客户端传输数据所采用的协议版本, 让客户端采用对应方式解析\n      // 升级版本时需注意客户端兼容情况\n      if (this.enableCompactProtocol) {\n        data.protocolVersion = this.protocolVersion;\n      }\n      callCanvasBridge('NBComponent.sendMessage', {\n        actionType: 'draw',\n        element: this.id,\n        viewId: this._getPage().getViewId(),\n        data,\n      }, callback);\n    } else {\n      // console.log(\"draw for web:\", actionsEncoded);\n      this._getPage().callRemote(`refComponents.${this.id}`, 'draw', actionsEncoded, reserve, (res) => {\n        if (typeof callback === 'function') {\n          callback(res);\n        }\n      });\n    }\n  },\n  addEventListener: function addEventListener(type, callback) {\n    this._listen(`nbcomponent.canvas.on${upperFirstChar(type)}`, callback);\n  },\n  removeEventListener: function removeEventListener(type, callback) {\n    this._unListen(`nbcomponent.canvas.on${upperFirstChar(type)}`, callback);\n  },\n  destroy: function destroy() {\n    const _this2 = this;\n\n    Object.keys(this.callBackMap).forEach((k) => {\n      ap.off(k, _this2.callBackMap[k]);\n    });\n  },\n  draw: function draw(reserve, callback) {\n    const that = this;\n    const encoder = CanvasProtocolEncoder;\n    if (this.enableCompactProtocol) {\n      // 需要加载的图片url\n      const toLoadImgUrls = [];\n      if (this.actionsShouldLoadImage) {\n        // 检测当前actions是否需要加载图片(含drawImage/fillStyle=pattern等)\n        for (let i = 0; i < this.actions.length; i++) {\n          const action = this.actions[i];\n          const url = encoder.getNotLoadingImageUrlFromAction(this, action);\n          if (url && toLoadImgUrls.indexOf(url) < 0) {\n            toLoadImgUrls.push(url);\n          }\n        }\n      }\n      if (toLoadImgUrls.length > 0) {\n        const frameData = {\n          reserve,\n          actions: this.actions,\n          callback,\n        };\n        encoder.performLoadImage(this, toLoadImgUrls, () => {\n          encoder.onImageLoadComplete(that, frameData);\n        });\n      }\n      // 需要等待图片加载完，才触发渲染\n      if (toLoadImgUrls != null && toLoadImgUrls.length > 0 || this.localImageLoadingBuffer.length > 0) {\n        // 重置图片加载状态,为下一帧重置状态\n        this.actionsShouldLoadImage = false;\n        this.actions = [];\n        return;\n      }\n    }\n    // 重置图片加载状态\n    this.actionsShouldLoadImage = false;\n    // debug('framework', `drawCanvas:reserve:${reserve}`, this.actions);\n    this._commitDrawFrame(reserve, this.actions, callback);\n    // 清空actions\n    this.actions = [];\n  },\n  toDataURL: function toDataURL(params) {\n    const _this3 = this;\n\n    if (this.enableNative) {\n      // todo\n    } else {\n      return new Promise(((resolve, reject) => {\n        callRender('toDataURL', {\n          page: _this3._getPage(),\n          caller: `refComponents.${_this3.id}`,\n          args: [{ ...params,\n            success: function success(res) {\n              resolve(res);\n              if (params.success) {\n                params.success(res);\n              }\n            },\n            fail: function fail(res) {\n              reject(res);\n              if (params.fail) {\n                params.fail(res);\n              }\n            },\n            complete: function complete(res) {\n              if (params.complete) {\n                params.complete(res);\n              }\n            } }],\n        });\n      }));\n    }\n  },\n  toTempFilePath: function toTempFilePath(params) {\n    const _this4 = this;\n\n    if (this.enableNative) {\n      return callBridgeAPI(this, 'toTempFilePath', clean(params), params);\n    } else {\n      return new Promise(((resolve, reject) => {\n        callRender('toTempFilePath', {\n          page: _this4._getPage(),\n          caller: `refComponents.${_this4.id}`,\n          args: [{ ...params,\n            success: function success(res) {\n              resolve(res);\n              if (params.success) {\n                params.success(res);\n              }\n            },\n            fail: function fail(res) {\n              reject(res);\n              if (params.fail) {\n                params.fail(res);\n              }\n            },\n            complete: function complete(res) {\n              if (params.complete) {\n                params.complete(res);\n              }\n            } }],\n        });\n      }));\n    }\n  },\n  setShadow: function setShadow(offsetX = 0, offsetY = 0, blur = 0, color = 'black') {\n    this.actions = this.actions.concat(CanvasProtocolEncoder.encodeProperties(this, [{\n      property: 'shadowOffsetX',\n      value: offsetX,\n    }, {\n      property: 'shadowOffsetY',\n      value: offsetY,\n    }, {\n      property: 'shadowBlur',\n      value: blur,\n    }, {\n      property: 'shadowColor',\n      value: color,\n    }]));\n  },\n  setFontSize: function setFontSize(value) {\n    this.state.font = this.state.font.replace(/\\d+\\.?\\d*px/, `${value}px`);\n    this.state.fontSize = value;\n    this.actions.push(CanvasProtocolEncoder.encodeProperty(this, {\n      property: 'font',\n      value: this.state.font,\n    }));\n  },\n  setFont: function setFont(value) {\n    const _this5 = this;\n\n    this.state.font = value;\n    const matches = value.match(/^(([\\w\\-]+\\s)*)(\\d+px)(\\/(\\d+\\.?\\d*(px)?))?\\s+(.*)/);\n    if (matches) {\n      const fontStyles = matches[1].trim().split(/\\s/);\n      this.state.fontSize = parseFloat(matches[3]);\n      this.state.fontFamily = matches[7];\n      fontStyles.forEach((s) => {\n        if (['italic', 'oblique', 'normal'].indexOf(s) > -1) {\n          _this5.state.fontStyle = s;\n        } else if (['bold', 'normal'].indexOf(s) > -1) {\n          _this5.state.fontWeight = s;\n        }\n      });\n    }\n    this.actions.push(CanvasProtocolEncoder.encodeProperty(this, {\n      property: 'font',\n      value,\n    }));\n  },\n  createPattern: function createPattern(...args) {\n    if (this.enableCompactProtocol) {\n      return {\n        class: 'pattern',\n        action: 'createPattern',\n        args,\n      };\n    } else {\n      this.actions.push({\n        action: 'createPattern',\n        callId: ++this.callId,\n        args,\n      });\n      return {\n        $callId: this.callId,\n      };\n    }\n  },\n};\n\nobjectKeys(imageDataAPI).forEach((apiName) => {\n  const apiConfig = imageDataAPI[apiName] || {};\n  contextPrototype[apiName] = function (param) {\n    const _this6 = this;\n\n    const _a = handleCallbackParams(param);\n    const { success, fail, ...rest } = _a;\n    if (apiConfig && apiConfig.v) {\n      const error = apiConfig.v(rest);\n      if (error) {\n        fail({\n          errorMessage: error.message,\n          error: error.message,\n        });\n        return;\n      }\n    }\n    if (apiConfig && apiConfig.b) {\n      apiConfig.b(rest);\n    }\n    if (this.enableNative) {\n      return callBridgeAPI(this, apiName, rest, param);\n    }\n    return new Promise(((resolve, reject) => {\n      let _getPage2;\n\n      const args = [`refComponents.${_this6.id}`, apiName];\n      const newSuccess = function newSuccess(originRes) {\n        const res = originRes;\n        if (apiConfig.a) {\n          apiConfig.a(res);\n        }\n        resolve(res);\n        if (success) {\n          success(res);\n        }\n      };\n      const newFail = function newFail(res) {\n        reject(res);\n        if (fail) {\n          fail(res);\n        }\n      };\n      args.push(rest, newSuccess, newFail);\n      (_getPage2 = _this6._getPage()).callRemote.apply(_getPage2, args);\n    }));\n  };\n});\n\nstyleProperties.forEach((property) => {\n  contextPrototype[getSetUpperName(property)] = function set(value) {\n    const that = this;\n    if (this.enableCompactProtocol) {\n      // pattern涉及图片异步load,提前处理\n      if ((property === 'fillStyle' || property === 'strokeStyle') && value != null && typeof value === 'object' && value.class === 'pattern') {\n        const firstArg = value.args[0];\n        if (typeof firstArg === 'string' && firstArg) {\n          const imgInfo = CanvasProtocolEncoder.getLoadedImage(that, firstArg);\n          if (imgInfo) {\n            if (CanvasProtocolEncoder.isValidImageInfo(imgInfo)) {\n              value.args = [imgInfo.id, imgInfo.width, imgInfo.height, value.args[1]];\n            } else {\n              // 无效图片，不计入最终actions\n              return;\n            }\n          } else {\n            that.actionsShouldLoadImage = true;\n            // 未在本地加载的图片，action格式为未转化\n            that.actions.push({\n              property,\n              // value格式：{class:xx, args:[]}\n              value,\n            });\n            return;\n          }\n        } else if (typeof firstArg === 'object' && CanvasProtocolEncoder.isValidImageInfo(firstArg)) {\n          value.args = [firstArg.id, firstArg.width, firstArg.height, value.args[1]];\n        }\n      }\n    }\n    this.actions.push(CanvasProtocolEncoder.encodeProperty(this, {\n      property,\n      value,\n    }));\n  };\n});\n\n['createLinearGradient', 'createRadialGradient', 'createCircularGradient'].forEach((_action) => {\n  contextPrototype[_action] = function pushAction(..._args) {\n    let args = _args;\n    let action = _action;\n    if (action === 'createCircularGradient') {\n      action = 'createRadialGradient';\n      args = [args[0], args[1], 0, args[0], args[1], args[2]];\n    }\n    let className = '';\n    if (action === 'createLinearGradient') {\n      className = 'linearGradient';\n    } else {\n      className = 'radialGradient';\n    }\n    if (this.enableCompactProtocol) {\n      return {\n        class: className,\n        positions: [],\n        colors: [],\n        args,\n        addColorStop: function addColorStop(pos, color) {\n          this.positions.push(pos);\n          this.colors.push(color);\n        },\n      };\n    } else {\n      const nested = [];\n      this.actions.push({\n        action,\n        nested,\n        callId: ++this.callId,\n        args,\n      });\n      return {\n        $callId: this.callId,\n        addColorStop: function addColorStop(...innerArgs) {\n          nested.push({\n            action: 'addColorStop',\n            args: innerArgs,\n          });\n        },\n      };\n    }\n  };\n});\n\n[\n  'clip',\n  'fill',\n  'rect',\n  'fillRect',\n  'strokeRect',\n  'stroke',\n  'scale',\n  'rotate',\n  'translate',\n  'save',\n  'restore',\n  'clearRect',\n  'fillText',\n  'moveTo',\n  'lineTo',\n  'arcTo',\n  'arc',\n  'transform',\n  'setTransform',\n  'stroke',\n  'beginPath',\n  'closePath',\n  'quadraticCurveTo',\n  'bezierCurveTo',\n  'setLineDash',\n  'strokeText',\n].forEach((action) => {\n  contextPrototype[action] = function pushAction(...args) {\n    this.actions.push(CanvasProtocolEncoder.encodeDrawApi(this, {\n      action,\n      args,\n    }));\n  };\n});\n\ncontextPrototype.isCanvasContext = 1;\n\ncontextPrototype.drawImage = function (img_, ...args) {\n  let img = img_;\n\n  if (typeof img === 'string') {\n    if (this._getPage()) {\n      img = resolvePath(img_, `/${this._getPage().getPagePath()}`);\n    }\n    if (this.enableCompactProtocol) {\n      // compact协议会将drawImage尝试转化为draw本地cache格式\n      const imgInfo = CanvasProtocolEncoder.getLoadedImage(this, img);\n      var finalArgs;\n      if (imgInfo) {\n        // 扩展为全参数格式\n        if (CanvasProtocolEncoder.isValidImageInfo(imgInfo)) {\n          finalArgs = CanvasProtocolEncoder.formatDrawImageArgs(imgInfo, args);\n        } else {\n          // 无效图片, 不计入actions\n          return;\n        }\n      } else {\n        this.actionsShouldLoadImage = true;\n        finalArgs = [img].concat(args);\n        // 未在本地加载的图片，action格式为未转化\n        this.actions.push({\n          action: 'drawImage',\n          args: finalArgs,\n        });\n        return;\n      }\n    } else {\n      finalArgs = [img].concat(args);\n    }\n    this.actions.push(CanvasProtocolEncoder.encodeDrawApi(this, {\n      action: 'drawImage',\n      args: finalArgs,\n    }));\n  } else if (img && typeof img === 'object' && CanvasProtocolEncoder.isValidImageInfo(img)) {\n    // 有效的图片对象格式\n    if (this.enableCompactProtocol) {\n      const fArgs = CanvasProtocolEncoder.formatDrawImageArgs(img, args);\n      this.actions.push(CanvasProtocolEncoder.encodeDrawApi(this, {\n        action: 'drawImage',\n        args: fArgs,\n      }));\n    }\n  } else if (img && img.isCanvasContext) {\n    this.actions.push(CanvasProtocolEncoder.encodeDrawApi(this, {\n      action: 'drawCanvas',\n      args: [img.id].concat(args),\n    }));\n  }\n};\n\ncontextPrototype.measureText = function measureText(value) {\n  if (this.enableNative) {\n    let result = callBridgeAPI(this, 'measureText', {\n      text: value,\n      font: this.state.font,\n    }, undefined, true);\n    if (!result) {\n      result = {};\n    }\n    return result;\n  }\n\n  const { fontSize, fontFamily, fontWeight, fontStyle } = this.state;\n\n  return ap.callSync('measureText', {\n    text: value,\n    fontSize,\n    fontFamily,\n    fontWeight,\n    fontStyle,\n  });\n};\n\nexport default ({\n  canvasToTempFilePath(...args) {\n    callRender('toTempFilePath', {\n      caller: `refComponents.${args[0].canvasId}`,\n      args,\n    });\n  },\n  createCanvasContext(id, options) {\n    return new Context(id, ({ ...options, page: getCurrentPageImpl() }));\n  },\n});\n","\nimport ap from '@/apis/ap';\nimport { callBridgeAPI } from './bridge';\n\nconst { callBridge } = ap;\n\nconst g10150 = false; // compareSystemVersion('10.1.50') >= 0;\n// ////////////////////////////////////////////////////////////////////////\n//\n// canvas私有拼串协议实现\n// 协议目前只影响draw()接口的action\n// 单独调用的接口不受影响\n// 有：measureText, getImageData, putImageData, toTempFilePath\n//\n// ////////////////////////////////////////////////////////////////////////\nconst CanvasProtocolEncoder = {\n  textMaxWidth: '100000000',\n  gcanvasCommandMap: {\n    clip: 'p',\n    fill: 'L',\n    rect: 'w',\n    fillRect: 'n',\n    strokeRect: 's',\n    clearRect: 'c',\n    stroke: 'x',\n    scale: 'k',\n    rotate: 'r',\n    translate: 'l',\n    save: 'v',\n    restore: 'e',\n    fillText: 'T',\n    moveTo: 'g',\n    lineTo: 'i',\n    arcTo: 'h',\n    arc: 'y',\n    transform: 'f',\n    setTransform: 't',\n    beginPath: 'b',\n    closePath: 'o',\n    quadraticCurveTo: 'u',\n    bezierCurveTo: 'z',\n    setLineDash: 'I',\n    strokeText: 'U',\n    drawImage: 'd',\n    // property\n    strokeStyle: 'S',\n    shadowBlur: 'Z',\n    shadowColor: 'K',\n    shadowOffsetX: 'X',\n    shadowOffsetY: 'Y',\n    lineCap: 'C',\n    lineWidth: 'W',\n    lineJoin: 'J',\n    miterLimit: 'M',\n    font: 'j',\n    textAlign: 'A',\n    textBaseline: 'E',\n    lineDashOffset: 'N',\n    globalAlpha: 'a',\n    globalCompositeOperation: 'V',\n    pattern: 'G',\n    fillStyle: 'F',\n    linearGradient: 'D',\n    radialGradient: 'H',\n  },\n  replaceToken: function replaceToken(text) {\n    if (typeof text === 'string') {\n      text = text.replace(/!/g, '!!');\n      text = text.replace(/,/g, '!,');\n      text = text.replace(/;/g, '!;');\n    }\n    return text;\n  },\n  reverseReplaceToken: function reverseReplaceToken(text) {\n    if (typeof text === 'string') {\n      text = text.replace(/!!/g, '!');\n      text = text.replace(/!,/g, ',');\n      text = text.replace(/!;/g, ';');\n    }\n    return text;\n  },\n  valueToStr: function valueToStr(v) {\n    // console.log(\"typeof v: \", typeof v, \"value=\", v)\n    if (typeof v === 'boolean') {\n      v = v ? '1' : '0';\n    }\n    return v;\n  },\n  formatValue: function formatValue(args) {\n    if (!args) {\n      // 空参数，直接转为空串\n      return '';\n    }\n    if (Array.isArray(args)) {\n      for (let i = 0; i < args.length; i+=1) {\n        const item = args[i];\n        if (typeof item === 'number') {\n          // 浮点数缩减\n          // args[i] = Number(args[i]).toFixed(6);\n        } else {\n          args[i] = this.valueToStr(item);\n        }\n      }\n    } else if (typeof args === 'string') {\n      if (args === 'null' || !args) {\n        args = '';\n      }\n    } else if (typeof args === 'boolean') {\n      args = this.valueToStr(args);\n    }\n    return args;\n  },\n  isArgsValidArray: function isArgsValidArray(args) {\n    return args && Array.isArray(args);\n  },\n  formatDrawImageArgs: function formatDrawImageArgs(imgInfo, args) {\n    const w = imgInfo.width;\n    const h = imgInfo.height;\n    // 扩展为全参数格式\n    if (args.length === 2) {\n      args = [w, h, 0, 0, w, h, args[0], args[1], w, h];\n    } else if (args.length === 4) {\n      args = [w, h, 0, 0, w, h, args[0], args[1], args[2], args[3]];\n    } else if (args.length === 8) {\n      args = [w, h].concat(args);\n    }\n    return [imgInfo.id].concat(args);\n  },\n  _encodeDrawActions: function _encodeDrawActions(actions) {\n    let str = '';\n    for (let i = 0; i < actions.length; i+=1) {\n      if (typeof actions[i] === 'string') {\n        str += actions[i];\n      }\n    }\n    return str;\n  },\n  _encodeDrawApi: function _encodeDrawApi(params) {\n    params.args = this.formatValue(params.args);\n    // 前置处理\n    if (params.action === 'fillText') {\n      // 文本加'!'前缀\n      if (this.isArgsValidArray(params.args)) {\n        params.args[0] = this.replaceToken(params.args[0]);\n        if (params.args.length === 3) {\n          params.args.push(this.textMaxWidth);\n        }\n      }\n    } else if (params.action === 'strokeText') {\n      // 文本加'!'前缀\n      if (this.isArgsValidArray(params.args)) {\n        params.args[0] = this.replaceToken(params.args[0]);\n        if (params.args.length === 3) {\n          params.args.push(this.textMaxWidth);\n        }\n      }\n    } else if (params.action === 'setLineDash') {\n      // 拼接长度\n      if (params.args && Array.isArray(params.args[0])) {\n        params.args = [params.args[0].length].concat(params.args[0]);\n      }\n    }\n    const realName = this.gcanvasCommandMap[params.action];\n    if (realName) {\n      let v = '';\n      if (Array.isArray(params.args)) {\n        v = params.args.join(',');\n      } else {\n        v = params.args;\n      }\n      return `${realName + v};`;\n    } else {\n      // 未提供映射的，直接返回原值\n      return '';\n    }\n  },\n  _encodeProperty: function _encodeProperty(params) {\n    const that = this;\n    params.value = this.formatValue(params.value);\n    // pattern／gradient前置处理\n    if (params.property === 'fillStyle' || params.property === 'strokeStyle') {\n      if (params.value && typeof params.value === 'object') {\n        // dict类型，可能是pattern/gradient这些\n        const obj = params.value;\n        const args = [];\n        if (obj && obj.class) {\n          const isStroke = params.property === 'strokeStyle';\n          // 使用class替换原property name, 将fillStyle/strokeStyle转化为gradient命令\n          params.property = obj.class;\n          // 拷贝obj.args数组元素，避免改变原数组\n          if (obj.class === 'pattern' || obj.class === 'linearGradient' || obj.class === 'radialGradient') {\n            for (let i = 0; i < obj.args.length; i+=1) {\n              args[i] = obj.args[i];\n            }\n            if (obj.class === 'pattern') {\n              // ignore [id,width,height,mode]\n            } else if (obj.class === 'linearGradient') {\n              if (obj.positions && obj.positions.length > 0) {\n                args.push(obj.positions.length);\n                for (const k in obj.positions) {\n                  args.push(obj.positions[k]);\n                }\n                for (const k in obj.colors) {\n                  args.push(obj.colors[k]);\n                }\n              }\n            } else if (obj.class === 'radialGradient') {\n              if (obj.positions && obj.positions.length > 0) {\n                args.push(obj.positions.length);\n                for (const k in obj.positions) {\n                  args.push(obj.positions[k]);\n                }\n                for (const k in obj.colors) {\n                  args.push(obj.colors[k]);\n                }\n              }\n            }\n            // 如果为stroke, 在最后添加stroke标记参数(fill无需添加)\n            if (isStroke) {\n              args.push('1');\n            }\n          }\n        } // 无效格式\n        // console.log(obj);\n        params.value = args;\n      } else if (params.value && typeof params.value === 'string') {\n        if (params.value.length > 64) {\n          params.value = '';\n        }\n      }\n    } else if (params.property === 'textAlign') {\n      params.value = this._encodeTextAlignValue(params.value);\n    } else if (params.property === 'textBaseline') {\n      params.value = this._encodeTextBaseline(params.value);\n    }\n    const realName = this.gcanvasCommandMap[params.property];\n    if (realName) {\n      let v = '';\n      if (Array.isArray(params.value)) {\n        v = params.value.join(',');\n      } else {\n        v = params.value;\n      }\n      return `${realName + v};`;\n    } else {\n      // 未提供映射的，说明不支持此操作，返回空\n      return '';\n    }\n  },\n  _encodeTextAlignValue: function _encodeTextAlignValue(value) {\n    let align = 0;\n    switch (value) {\n      case 'start':\n        align = 0;\n        break;\n      case 'end':\n        align = 1;\n        break;\n      case 'left':\n        align = 2;\n        break;\n      case 'center':\n        align = 3;\n        break;\n      case 'right':\n        align = 4;\n        break;\n      default:\n        align = 0;\n    }\n    return align;\n  },\n  _encodeTextBaseline: function _encodeTextBaseline(value) {\n    let baseline = 0;\n    switch (value) {\n      case 'alphabetic':\n        baseline = 0;\n        break;\n      case 'middle':\n        baseline = 1;\n        break;\n      case 'top':\n        baseline = 2;\n        break;\n      case 'hanging':\n        baseline = 3;\n        break;\n      case 'bottom':\n        baseline = 4;\n        break;\n      case 'ideographic':\n        baseline = 5;\n        break;\n      default:\n        baseline = 0;\n        break;\n    }\n    return baseline;\n  },\n  encodeDrawActions: function encodeDrawActions(ctx, actions) {\n    if (this.checkUseCompactProtocal(ctx)) {\n      return this._encodeDrawActions(actions);\n    } else {\n      return actions;\n    }\n  },\n  encodeDrawApi: function encodeDrawApi(ctx, value) {\n    if (this.checkUseCompactProtocal(ctx)) {\n      return this._encodeDrawApi(value);\n    } else {\n      return value;\n    }\n  },\n\n  /**\n     * value格式：{property: $pname, value: $value}\n     */\n  encodeProperty: function encodeProperty(ctx, value) {\n    if (this.checkUseCompactProtocal(ctx)) {\n      return this._encodeProperty(value);\n    } else {\n      return value;\n    }\n  },\n  encodeProperties: function encodeProperties(ctx, setPropertyArr) {\n    if (this.checkUseCompactProtocal(ctx)) {\n      const arr = [];\n      for (const key in setPropertyArr) {\n        arr.push(this._encodeProperty(setPropertyArr[key]));\n      }\n      return arr;\n    } else {\n      return setPropertyArr;\n    }\n  },\n  putLoadedImage: function putLoadedImage(ctx, url, imgInfo) {\n    ctx.localImageBuffer[url] = imgInfo;\n  },\n  getLoadedImage: function getLoadedImage(ctx, url) {\n    // console.log(\"getLoadedImage: \", this.localImageLoadingBuffer);\n    if (ctx.localImageBuffer[url]) {\n      return ctx.localImageBuffer[url];\n    } else {\n      return null;\n    }\n  },\n  putLoadingImage: function putLoadingImage(ctx, url) {\n    ctx.localImageLoadingBuffer[url] = 1;\n  },\n  getLoadingImage: function getLoadingImage(ctx, url) {\n    if (ctx.localImageLoadingBuffer[url]) {\n      return ctx.localImageLoadingBuffer[url];\n    } else {\n      return null;\n    }\n  },\n  isValidImageInfo: function isValidImageInfo(imgInfo) {\n    return imgInfo != null && imgInfo.id !== '' && imgInfo.id >= 0 && imgInfo.width > 0 && imgInfo.height > 0;\n  },\n  removeLoadingImage: function removeLoadingImage(ctx, url) {\n    delete ctx.localImageLoadingBuffer[url];\n  },\n\n  // 批量加载图片\n  performLoadImage: function performLoadImage(ctx, urls, cb) {\n    // 过滤正在loading的图片\n    for (let i = 0; i < urls.length; i+=1) {\n      this.putLoadingImage(ctx, urls[i]);\n    }\n    const that = this;\n    const processImageCallback = function processImageCallback(res) {\n      if (res.data) {\n        const imgList = res.data;\n        for (let i = 0; i < imgList.length; i+=1) {\n          const item = imgList[i];\n          that.putLoadedImage(ctx, item.url, item);\n          that.removeLoadingImage(ctx, item.url);\n        }\n      }\n    };\n    // 版本判断: 50版本以下走NBComponent.sendMessage(action=loadImage), 高版本使用my.preloadCanvasImage jsapi\n    if (g10150) {\n      // console.log(\"start performLoadImage::preloadCanvasImage\", urls);\n      callBridge('preloadCanvasImage', { urls }, (res) => {\n        processImageCallback(res);\n        cb();\n      });\n    } else {\n      callBridgeAPI(ctx, 'loadImage', {\n        urls,\n      }, {\n        success: function success(res) {\n          processImageCallback(res);\n        },\n        fail: function fail(res) {\n          // 所有图片加载失败时返回\n          processImageCallback(res);\n        },\n        complete: function complete() {\n          cb();\n        },\n      }, false);\n    }\n  },\n\n  // 判断是否图片加载相关的action\n  isWaitImageLoadAction: function isWaitImageLoadAction(action) {\n    if (typeof action === 'object' && action) {\n      if (action.action === 'drawImage' || action.property && (action.property === 'fillStyle' || action.property === 'strokeStyle') && action.value != null && typeof action.value === 'object' && action.value.class === 'pattern') {\n        return true;\n      }\n    }\n    return false;\n  },\n  parseImageUrlFromActionUrl: function parseImageUrlFromActionUrl(action) {\n    if (!action) {\n      return '';\n    }\n    const args = action.args ? action.args : action.value.args;\n    return args[0];\n  },\n  getNotLoadingImageUrlFromAction: function getNotLoadingImageUrlFromAction(ctx, action) {\n    if (this.isWaitImageLoadAction(action)) {\n      const url = this.parseImageUrlFromActionUrl(action);\n      if (url && isNaN(url) && !this.getLoadingImage(ctx, url)) {\n        return url;\n      }\n    }\n    return '';\n  },\n  replaceImageLoadActions: function replaceImageLoadActions(action, imgInfo) {\n    let newAction = '';\n    const actionName = action.action ? action.action : action.property;\n    // replace img action url and img infos\n    if (actionName === 'drawImage') {\n      newAction = this._encodeDrawApi({\n        action: actionName,\n        args: this.formatDrawImageArgs(imgInfo, action.args.slice(1)),\n      });\n    } else if (actionName === 'fillStyle' || actionName === 'strokeStyle') {\n      const value = {\n        class: 'pattern',\n        args: [imgInfo.id, imgInfo.width, imgInfo.height].concat(action.value.args.slice(1)),\n      };\n      newAction = this._encodeProperty({\n        property: actionName,\n        value,\n      });\n    }\n    return newAction;\n  },\n  onImageLoadComplete: function onImageLoadComplete(ctx, frameData) {\n    for (let j = 0; j < frameData.actions.length; j+=1) {\n      const action = frameData.actions[j];\n      const url = this.getNotLoadingImageUrlFromAction(ctx, action);\n      if (url) {\n        const imgInfo = this.getLoadedImage(ctx, url);\n        if (!this.isValidImageInfo(imgInfo)) {\n          // 图片加载失败情况下无效掉命令\n          // console.log(\"loadImagefail,replace frame with emtpy: \", frameData.actions);\n          frameData.actions[j] = '';\n          // continue;\n        } else {\n          // replace img action url and img infos\n          frameData.actions[j] = this.replaceImageLoadActions(action, imgInfo);\n        }\n      }\n    }\n    this.flushDrawFrame(ctx, frameData);\n  },\n  flushDrawFrame: function flushDrawFrame(ctx, frameData) {\n    // 重置图片加载状态\n    ctx.actionsShouldLoadImage = false;\n    ctx._commitDrawFrame(frameData.reserve, frameData.actions, frameData.callback);\n  },\n  checkUseCompactProtocal: function checkUseCompactProtocal(ctx) {\n    return ctx.enableCompactProtocol;\n  },\n};\n\nexport default CanvasProtocolEncoder;\n","\nimport ap from '@/apis/ap';\n\nconst { callBridge, callBridgeSync } = ap;\n\nconst g = self;\n\nexport function callCanvasBridge(name, params, callback) {\n  callBridge(name, params, callback);\n}\n\nexport function callCanvasBridgeSync(name, params) {\n  if (g.callMPCanvasBridgeSync) {\n    return g.callMPCanvasBridgeSync(params);\n  } else {\n    return callBridgeSync(name, params);\n  }\n}\n\nexport function callBridgeAPI(context, actionType, data, params = {}, sync) {\n  const args = ['NBComponent.sendMessage', {\n    actionType,\n    element: context.id,\n    viewId: context._getPage().getViewId(),\n    data,\n  }];\n  return sync ? callCanvasBridgeSync(...args) : new Promise(((resolve, reject) => {\n    args.push((res) => {\n      if (res.error) {\n        reject(res);\n        if (params.fail) {\n          params.fail(res);\n        }\n      } else {\n        resolve(res);\n        if (params.success) {\n          params.success(res);\n        }\n      }\n      if (params.complete) {\n        params.complete(res);\n      }\n    });\n    callCanvasBridge(...args);\n  }));\n}\n","\nimport { getCurrentPageImpl } from '@/framework/';\n\nexport class SelectorQuery {\n  constructor(page) {\n    this.actions = [];\n    this.page = page;\n  }\n\n  select(selector) {\n    this.selector = {\n      value: selector,\n    };\n    return this;\n  }\n\n  selectAll(selector) {\n    this.selector = {\n      value: selector,\n      type: 'all',\n    };\n    return this;\n  }\n\n  selectViewport() {\n    this.selector = {\n      value: 'viewport',\n    };\n    return this;\n  }\n\n  boundingClientRect() {\n    if (this.selector) {\n      this.actions.push({\n        selector: this.selector,\n        type: 'rect',\n      });\n      this.selector = null;\n    }\n    return this;\n  }\n\n  scrollOffset() {\n    if (this.selector) {\n      this.actions.push({\n        selector: this.selector,\n        type: 'scroll',\n      });\n      this.selector = null;\n    }\n    return this;\n  }\n\n  exec(callback) {\n    const page = this.page || getCurrentPageImpl();\n    if (page) {\n      page.callRemote('bridge', 'createSelectorQuery', this.actions, callback);\n    }\n  }\n}\n\n\nexport default function createSelectorQuery({ page } = {}) {\n  return new SelectorQuery(page);\n}\n","\nimport log from '@/utils/log';\nimport EventHub from '../EventHub';\nimport AppMixin from '../mixins/AppMixin';\nimport objectKeys from '@/utils/objectKeys';\nimport { setAppImpl } from '../utils/appImpl';\nimport { isTabPage } from '../utils/pageUtils';\nimport invokeWithGuardAndReThrow from '@/utils/invokeWithGuardAndReThrow';\n\nlet appImpl;\nlet app;\n\nfunction pushPage(page) {\n  let pages = getCurrentPagesImpl();\n  if (!pages.length) {\n    const tabPath = appImpl._currentTabPath = page.getPagePath();\n    pages = appImpl._tabCaches[tabPath] = [];\n  }\n  pages.push(page);\n}\n\nfunction popPage(page) {\n  const tabCaches = appImpl._tabCaches;\n  objectKeys(tabCaches).forEach((k) => {\n    const tabPages = tabCaches[k];\n    if (tabPages) {\n      for (let i = tabPages.length - 1; i >= 0; i -= 1) {\n        if (tabPages[i] === page) {\n          tabPages.splice(i, 1);\n          return;\n        }\n      }\n    }\n  });\n}\n\nexport function getApp() {\n  return app;\n}\n\nexport function App(publicInstance = {}) {\n  if (appImpl) {\n    throw new Error('App() can only be called once');\n  }\n  app = publicInstance;\n  appImpl = new AppImpl(publicInstance);\n  setAppImpl(appImpl);\n  EventHub.emit('appCreated', appImpl);\n  return app;\n}\n\nfunction AppImpl(publicInstance) {\n  this._tabCaches = {};\n  this._currentTabPath = '';\n  this.publicInstance = publicInstance;\n  // app status is unstable\n  this.shown = true;\n}\nAppImpl.prototype = {\n  ...AppMixin,\n  pushPage,\n  popPage,\n  getAllPages() {\n    let pages = [];\n    const tabCaches = this._tabCaches;\n    objectKeys(tabCaches).forEach((k) => {\n      const tabPages = tabCaches[k];\n      if (tabPages) {\n        pages = pages.concat(tabPages);\n      }\n    });\n    return pages;\n  },\n  isTabShow() {\n    const tabCaches = appImpl._tabCaches;\n    // filter destroyed/empty tabs\n    const tabKeys = objectKeys(tabCaches).filter((k) => {\n      return !!tabCaches[k].length;\n    });\n    if (!tabKeys.length) {\n      return false;\n    }\n    // if all invalid tab page\n    return tabKeys.every((k) => {\n      return isTabPage(tabCaches[k][0]);\n    });\n  },\n  clearAllPages() {\n    const nowTabCaches = this._tabCaches;\n    this._tabCaches = {};\n    // clear tab caches and page stack\n    objectKeys(nowTabCaches).forEach((k) => {\n      const tabPages = nowTabCaches[k];\n      if (tabPages) {\n        tabPages.concat().reverse().forEach((page) => {\n          return page.unload();\n        });\n      }\n    });\n    this._currentTabPath = '';\n  },\n  getPagesByTabPath(tabPath) {\n    return this._tabCaches[tabPath] || [];\n  },\n  getPageById(id) {\n    return this.getPageBy((page) => {\n      return page.getId() === id;\n    });\n  },\n  getPageObject(url) {\n    const queryIndex = url.indexOf('?');\n    let queryString = '';\n    let pagePath = url;\n    if (queryIndex !== -1) {\n      queryString = url.slice(queryIndex + 1);\n      pagePath = pagePath.slice(0, queryIndex);\n    }\n    if (pagePath.charAt(0) === '/') {\n      pagePath = pagePath.slice(1);\n    }\n    return {\n      queryString,\n      pagePath,\n    };\n  },\n  getPageBy(same) {\n    const tabCaches = appImpl._tabCaches;\n    for (const k in tabCaches) {\n      if (tabCaches.hasOwnProperty(k)) {\n        const tabPages = tabCaches[k];\n        if (tabPages) {\n          for (let i = tabPages.length - 1; i >= 0; i -= 1) {\n            if (same(tabPages[i])) {\n              return tabPages[i];\n            }\n          }\n        }\n      }\n    }\n    return null;\n  },\n  launch(options = {}) {\n    this.$launchTime = Date.now();\n    this.launchOptions = options;\n    EventHub.emit('launch', options);\n    log('framework: App onLaunch');\n    const { publicInstance } = this;\n    const { onLaunch } = publicInstance;\n    const { onShow } = publicInstance;\n\n    invokeWithGuardAndReThrow(onLaunch, publicInstance, options);\n    invokeWithGuardAndReThrow(onShow, publicInstance, options);\n    this.shown = true;\n  },\n  hide(hidePage = true) {\n    this.shown = false;\n    EventHub.emit('background');\n    log('framework: App onHide');\n    if (hidePage) {\n      const page = getCurrentPageImpl();\n      if (page) {\n        page.hide();\n      }\n    }\n    invokeWithGuardAndReThrow(this.publicInstance.onHide, this.publicInstance);\n  },\n  show: function show(o, showPage = true) {\n    this.shown = true;\n    const options = o || {};\n    log('framework: App onShow');\n    EventHub.emit('foreground', options);\n    const prePage = getCurrentPageImpl();\n    invokeWithGuardAndReThrow(this.publicInstance.onShow, this.publicInstance, options);\n    // if relaunch, do not invoke previous page show\n    if (showPage && !options.path) {\n      const page = getCurrentPageImpl();\n      if (page && page === prePage) {\n        page.show();\n      }\n    }\n  },\n  error: function error(e) {\n    invokeWithGuardAndReThrow(this.publicInstance.onError, this.publicInstance, e);\n  },\n  navigateBack: function navigateBack(params = {}, fn) {\n    let { delta = 1 } = params;\n\n    if (typeof delta !== 'number') {\n      return 'delta must be number!';\n    }\n    const pages = this.getCurrentPagesImpl();\n    const len = pages.length;\n    if (len === 1) {\n      return 'already top of navigation';\n    }\n    if (delta >= len) {\n      delta = len - 1;\n    }\n    fn({ delta });\n  },\n\n  setCurrentPagesImpl(pages, _tabPath) {\n    let tabPath = _tabPath || this._currentTabPath;\n    if (pages.length) {\n      tabPath = pages[0].getPagePath();\n    }\n    this._currentTabPath = tabPath;\n    this._tabCaches[tabPath] = pages;\n  },\n\n  getCurrentPagesImpl,\n\n  getCurrentPageImpl,\n};\n\n// remove from page stack\nEventHub.addListener('pageUnload', ({ page }) => {\n  popPage(page);\n});\n\nconst empty = [];\n\nexport function getCurrentPagesImpl() {\n  if (!appImpl) {\n    return [];\n  }\n  const tabCaches = appImpl._tabCaches;\n  const currentTabPath = appImpl._currentTabPath;\n  if (!currentTabPath) {\n    return empty;\n  }\n  tabCaches[currentTabPath] = tabCaches[currentTabPath] || [];\n  return tabCaches[currentTabPath];\n}\n\nexport function getCurrentPageImpl() {\n  const pages = getCurrentPagesImpl();\n  return pages[pages.length - 1];\n}\n\nexport function getCurrentPages() {\n  return getCurrentPagesImpl().map((p) => {\n    return p.publicInstance;\n  });\n}\n\nexport function getAppImpl() {\n  return appImpl;\n}\n","// app注册page\n\nconst appRegistry = {};\n\nconst AppRegistry = {\n  registerComponent: function registerComponent(name, factory) {\n    // name即pagePath\n    // factory即() => RC\n    appRegistry[name] = factory;\n  },\n  getComponent: function getComponent(name) {\n    return appRegistry[name] && appRegistry[name]();\n  },\n  getRunnable: function getRunnable(name) {\n    return AppRegistry.getComponent(name);\n  },\n};\n\nexport default AppRegistry;\n","import ComponentRegistry from '../ComponentRegistry';\nimport $global from '../common/global';\nimport CustomComponent from '../legacy/CustomComponent';\n\nexport default function Component(setupConfig) {\n  // $global.currentComponentConfig 会在转译后的代码里设置\n  if (!$global.currentComponentConfig) {\n    throw new Error('invalid Component usage!');\n  }\n  const { currentComponentConfig } = $global;\n  $global.currentComponentConfig = null;\n\n  const { is } = currentComponentConfig;\n\n  ComponentRegistry.registerComponent(is, () => {\n    return CustomComponent(setupConfig, currentComponentConfig);\n  });\n}\n","\nimport ComponentRegistry from './index';\n\nfunction getComponentClass(is) {\n  return ComponentRegistry.getComponent(is);\n}\n\nexport default getComponentClass;\n","\nexport const componentRegistry = {};\nconst ComponentRegistry = {\n  registerComponent: function registerComponent(name, factory) {\n    if (componentRegistry[name]) {\n      return;\n    }\n    componentRegistry[name] = factory;\n  },\n  getComponent: function getComponent(name) {\n    return componentRegistry[name] && componentRegistry[name]();\n  },\n};\n\nexport default ComponentRegistry;\n","\nimport EventEmitter from '@/utils/EventEmitter';\n\nexport default new EventEmitter();\n","\nimport AppRegistry from '../AppRegistry';\nimport $global from '../common/global';\nimport PageComponent from '../legacy/PageComponent';\n\nexport default function Page(userConfig = {}) {\n  if (!$global.currentPageConfig) {\n    throw new Error('invalid Page usage!');\n  }\n  const { tabsConfig } = $global;\n  const { currentPageConfig } = $global;\n  const { pagesConfig } = $global;\n\n  $global.currentPageConfig = null;\n  const { pagePath } = currentPageConfig;\n  const { tabIndex } = currentPageConfig;\n\n  if (tabIndex) {\n    tabsConfig[pagePath] = tabIndex;\n  }\n  pagesConfig[pagePath] = {\n    system: currentPageConfig,\n    user: userConfig,\n  };\n  // do not use registerPage, all worker modules run at once\n  // if use registerPage, need to do full ast parse(error prone)\n  AppRegistry.registerComponent(pagePath, () => {\n    return PageComponent;\n  });\n}\n","import $global from '../common/global';\nimport startsWith from '@/utils/startsWith';\nimport { getStartupParams } from '@/utils/startupParams';\n\nconst g = self;\n\nfunction getSubPackageByPage(page) {\n  const { mpAppJson } = g;\n\n  if (!mpAppJson || !mpAppJson.app.subPackages) {\n    return false;\n  }\n  const { subPackages } = mpAppJson.app;\n\n  for (let i = 0; i < subPackages.length; i++) {\n    const p = subPackages[i];\n    if (startsWith(page, `${p.root}/`)) {\n      return p.root;\n    }\n  }\n  return false;\n}\nconst packageMap = {};\nconst packageListeners = {};\n\ng.bootstrapSubPackage = function (subPackage, { success }) {\n  packageMap[subPackage] = 1;\n  success();\n  if (packageListeners[subPackage]) {\n    packageListeners[subPackage]();\n    delete packageListeners[subPackage];\n  }\n};\nconst isWorker = typeof importScripts !== 'undefined';\n\nfunction loadPackageScript(subPackage, callback) {\n  const url = `/${subPackage}`;\n  if (isWorker) {\n    importScripts(`${url}/index.worker.js`);\n    callback();\n  } else {\n    const script = document.createElement('script');\n    script.src = `${url}/index.js`;\n    document.head.appendChild(script);\n    // do not use script.onload\n    packageListeners[subPackage] = callback;\n  }\n}\nexport function loadPage(pagePath, doLoad) {\n  const isCli = getStartupParams().mpCli;\n  const subPackage = getSubPackageByPage(pagePath);\n\n  if (subPackage) {\n    const callBridge = $global.bridge.call;\n    if (packageMap[subPackage]) {\n      doLoad();\n    } else {\n      if (isWorker) {\n        callBridge('showLoading');\n      }\n      function doLoadScript() {\n        loadPackageScript(subPackage, () => {\n          if (isWorker) {\n            $global.bridge.call('hideLoading');\n          }\n          doLoad();\n        });\n      }\n      if (isCli) {\n        doLoadScript();\n      } else {\n        callBridge('loadSubPackage', {\n          packages: [subPackage],\n        }, doLoadScript);\n      }\n    }\n  } else {\n    doLoad();\n  }\n}\n","\nimport $global from './global';\nimport Page from '../Page';\nimport { App, getApp, getCurrentPages } from '../App';\nimport Component from '../Component';\n\nexport {\n  $global,\n  Page,\n  App,\n  getApp,\n  getCurrentPages,\n  Component,\n};\n","const $global = {\n  tabsConfig: {},\n  pagesConfig: {},\n  componentsConfig: {},\n  currentPageConfig: null,\n  currentComponentConfig: null,\n};\n\nexport default $global;\n","import './utils/env';\nimport bootstrap, { pauseApp } from './worker/bootstrap';\nimport { $global, App, Page, getApp, getCurrentPages, Component } from './common/commonLogic';\nimport securityPatch from '@/utils/securityPatch';\nimport getApplicationId from '@/utils/getApplicationId';\nimport EventHub from './EventHub';\nimport { getStartupParams, setStartupParams } from './startupParams';\nimport {\n  getCurrentPageImpl,\n  getCurrentPagesImpl,\n  getAppImpl,\n} from './App';\n\nconst g = self;\n\ng.onerror = function (msg, url, line, col, error) {\n  const args = [msg, url, line, col, error];\n  try {\n    const app = getAppImpl();\n    if (app) {\n      app.error(msg);\n    }\n    let stack = [];\n    try {\n      stack = JSON.stringify(error.stack).split('\\\\n').splice(0, 3);\n    } catch (e) {}\n  } catch (ee) {\n    console.error('[WORKER] report catch error', ee);\n  }\n  console.error('[WORKER] onerror', args);\n};\n\ng.bootstrapApp = function ({ success }) {\n  function start() {\n    securityPatch();\n    // success是worker代码\n    success();\n  }\n\n  pauseApp();\n  getApplicationId((applicationId) => {\n    start();\n    bootstrap();\n  });\n};\n\nexport {\n  EventHub,\n  getStartupParams, \n  setStartupParams,\n  getCurrentPageImpl,\n  getCurrentPagesImpl,\n  Component,\n  Page,\n  App,\n  getApp,\n  getAppImpl,\n  getCurrentPages,\n  $global,\n};\n","\nimport getComponentClass from '../ComponentRegistry/getComponentClass';\nimport mergeArray from '@/utils/mergeArray';\nimport setData, { spliceData, getOpStr } from '@/utils/setData';\nimport objectKeys from '@/utils/objectKeys';\nimport invokeWithGuardAndReThrow from '@/utils/invokeWithGuardAndReThrow';\nimport {\n  PendingKeyType,\n  PendingKeyId,\n  PendingKeyData,\n  PendingKeyOp,\n  PendingValueComponent,\n  ComponentKeyDiffProps,\n  ComponentKeyOwnerId,\n  DiffKeyUpdated,\n  DiffKeyDeleted,\n} from '@/utils/consts';\nimport getComponentProp from '../utils/getComponentProp';\nimport fireComponentLifecycle from '../utils/fireComponentLifecycle';\n\nconst eventReg = /^on[a-zA-Z]/;\n\nexport default function Component(setupConfig, currentComponentConfig) {\n  const { is, usingComponents } = currentComponentConfig;\n\n  const propsCache = {};\n\n  function getProps(prop, useCache = true) {\n    return getComponentProp(setupConfig, prop, useCache ? propsCache : useCache);\n  }\n\n  function ComponentClass(page, id, componentConfig) {\n    this.is = is;\n    this.id = id;\n    this.page = page;\n    this.triggerEventHandlers = {};\n    const self = this;\n    const publicInstance = this.publicInstance = Object.create(getProps('methods'), {\n      setData: {\n        value: function value(a, b) {\n          return self.setData(setData, a, b);\n        },\n      },\n      $spliceData: {\n        value: function value(a, b) {\n          return self.setData(spliceData, a, b);\n        },\n      },\n    });\n\n    publicInstance.is = is;\n    publicInstance.$id = id;\n    publicInstance.$page = page.publicInstance;\n    publicInstance.data = getProps('data', false);\n    this.computedDeps = { ...ComponentClass.computedDeps };\n    this.prevData = publicInstance.data;\n    publicInstance.props = getProps('properties') || getProps('props');\n    this.setComponentConfig(componentConfig, true);\n  };\n\n  ComponentClass.data = getProps('data');\n  ComponentClass.props = getProps('properties') || getProps('props');\n\n  ComponentClass.getAllComponents = function () {\n    const allComponents = [is];\n\n    objectKeys(usingComponents).forEach((c) => {\n      /* 忽略当前自定义组件本身，防止死循环 */\n      if (usingComponents[c] !== is) {\n        const subUsingComponents = getComponentClass(usingComponents[c]).getAllComponents();\n        mergeArray(allComponents, subUsingComponents);\n      }\n    });\n\n    return allComponents;\n  };\n\n  ComponentClass.prototype = {\n    setData(op, diffData, options_) {\n      const { id, publicInstance } = this;\n\n      if (this.unloaded) {\n        console.log(`${'setData(...) can only update a mounted component. ' + 'This usually means you called setData() on a unmounted component. '}` + `Please check the code for the \"${this.is}\" component of \"${this.page.getPagePath()}\" page.`);\n        return;\n      }\n      this.prevData = publicInstance.data;\n      publicInstance.data = op(publicInstance.data, diffData);\n      const data = {\n        [PendingKeyType]: PendingValueComponent,\n        [PendingKeyId]: id,\n        [PendingKeyOp]: getOpStr(op),\n        [PendingKeyData]: diffData,\n      };\n      let options = options_ || {};\n      if (typeof options_ === 'function') {\n        options = { complete: options_ };\n      }\n      this.page.setRemoteData(data, options);\n    },\n    setComponentConfig(c, init) {\n      const ownerId = c[ComponentKeyOwnerId];\n      const diffProps = c[ComponentKeyDiffProps];\n      if (ownerId) {\n        this.ownerId = ownerId;\n      }\n      const { publicInstance } = this;\n\n      const prevProps = publicInstance.props;\n      if (diffProps) {\n        const deleted = diffProps[DiffKeyDeleted];\n        const updated = diffProps[DiffKeyUpdated];\n        if (deleted && deleted.length || updated && objectKeys(updated).length) {\n          publicInstance.props = { ...publicInstance.props };\n        }\n        if (deleted) {\n          deleted.forEach((d) => {\n            delete publicInstance.props[d];\n          });\n        }\n        if (updated) {\n          Object.assign(publicInstance.props, this.normalizeProps(updated));\n        }\n      }\n      if (!init && (prevProps !== publicInstance.props || this.prevData !== publicInstance.data)) {\n        this.update(prevProps, this.prevData);\n        this.prevData = publicInstance.data;\n      }\n    },\n    normalizeProps(oldProps) {\n      const newProps = { ...oldProps };\n      objectKeys(oldProps).forEach((p) => {\n        if (p.match(eventReg)) {\n          newProps[p] = this.getTriggerEventHandler(p, oldProps[p]);\n        }\n      });\n      return newProps;\n    },\n    getTriggerEventHandler(type, method) {\n      if (!method) {\n        return method;\n      }\n      const { triggerEventHandlers } = this;\n\n      let handleFn = triggerEventHandlers[type];\n      if (!handleFn) {\n        handleFn = triggerEventHandlers[type] = (...args) => {\n          return this.triggerEvent.apply(this, [handleFn.method].concat(args));\n        };\n      }\n      // method may change for onXX type\n      handleFn.method = method;\n      return handleFn;\n    },\n    triggerEvent(method, ...args) {\n      /* todo 发送triggerComponentEvent type, detail, options */\n      // tricky, page is also a component\n      const ownerComponent = this.page.getComponentInstance(this.ownerId);\n      if (ownerComponent) {\n        const { publicInstance } = ownerComponent;\n\n        if (!publicInstance[method]) {\n          console.warn(`${ownerComponent.is}: can not find event handle method: ${method}`);\n        }\n\n        return invokeWithGuardAndReThrow(publicInstance[method], publicInstance, ...args);\n      }\n    },\n    ready() {\n      fireComponentLifecycle(setupConfig, this.publicInstance, 'didMount');\n    },\n    update(...args) {\n      fireComponentLifecycle(setupConfig, this.publicInstance, 'didUpdate', args);\n    },\n    unload() {\n      this.unloaded = true;\n      fireComponentLifecycle(setupConfig, this.publicInstance, 'didUnmount');\n    },\n  };\n\n  return ComponentClass;\n}\n","\nimport setData, { spliceData, getOpStr } from '@/utils/setData';\nimport objectKeys from '@/utils/objectKeys';\nimport getComponentClass from '../ComponentRegistry/getComponentClass';\nimport { componentRegistry } from '../ComponentRegistry';\nimport mergeArray from '@/utils/mergeArray';\nimport EventHub from '../EventHub';\nimport log, { debug } from '@/utils/log';\nimport invokeWithGuardAndReThrow from '@/utils/invokeWithGuardAndReThrow';\nimport { getAppImpl } from '../App';\nimport {\n  PendingKeyType,\n  PendingKeyData,\n  PendingKeyOp,\n  PendingValuePage,\n  PayloadKeyMountedComponents,\n  PayloadKeyUnmountedComponents,\n  ComponentKeyId,\n  ComponentKeyIs,\n} from '@/utils/consts';\nimport $global from '../common/global';\nimport MessageHandleMixin from '../mixins/MessageHandleMixin';\n\n\nconst publicInstanceMethods = ['onShareAppMessage', 'onReachBottom', 'onPageScroll'];\nfunction noop() {}\n\nexport default function PageComponent({ id, query, pagePath }) {\n  if (!(this instanceof PageComponent)) {\n    return new PageComponent({ id, query, pagePath });\n  }\n  this.$startTime = Date.now();\n  this.onMessage = this.onMessage.bind(this);\n  this.componentInstances = {};\n\n  Object.assign(this, {\n    pagePath,\n    id,\n    bridge: $global.bridge,\n    pendingData: [],\n    pendingCallbacks: [],\n    initialCallbacks: [],\n    self: this,\n    query,\n    pageType: 'WORKER',\n  });\n\n  const self = this;\n  /* 设置publicInstance */\n  const publicInstance = this.publicInstance = Object.create({\n    route: pagePath,\n    ...$global.pagesConfig[pagePath].user,\n  }, {\n    setData: {\n      value: function value(a, b) {\n        return self.setData(setData, a, b);\n      },\n    },\n    $spliceData: {\n      value: function value(a, b) {\n        return self.setData(spliceData, a, b);\n      },\n    },\n    $getComponentBy: {\n      value: this.getComponentBy.bind(this),\n    },\n  });\n\n  if (typeof publicInstance.data === 'function') {\n    publicInstance.data = publicInstance.data() || {};\n  }\n}\n\nconst allUsingComponentsCache = {};\nfunction getAllUsingComponents(pagePath) {\n  if (pagePath in allUsingComponentsCache) {\n    return allUsingComponentsCache[pagePath];\n  }\n  const allUsingComponents = [];\n\n  const { usingComponents } = $global.pagesConfig[pagePath].system;\n  if (usingComponents) {\n    objectKeys(usingComponents).forEach((c) => {\n      const cs = getComponentClass(usingComponents[c]).getAllComponents();\n      mergeArray(allUsingComponents, cs);\n    });\n    allUsingComponentsCache[pagePath] = allUsingComponents;\n  }\n\n  return allUsingComponents;\n}\nPageComponent.prototype = {\n  ...MessageHandleMixin,\n  load() {\n  // in case pageResume following appResume, tab page??\n    if (!this.$loadTime) {\n      this.$loadTime = Date.now();\n      // setData will be merged with startRender\n      this._disableRemoteData = true;\n      log('framework: page onLoad', this.pagePath);\n      EventHub.emit('pageLoad', { page: this });\n      invokeWithGuardAndReThrow(this.publicInstance.onLoad, this.publicInstance, this.query);\n      // depend app status!! maybe unstable\n      if (getAppImpl().shown) {\n        this.show();\n      }\n      if (this._fromTabItemTap) {\n        this.onTabItemTap(this.tabProps);\n      }\n      this._disableRemoteData = false;\n    }\n    this.startRender();\n  },\n  refresh() {\n    this.unmountAllComponents();\n    this.startRender(true);\n  },\n  show() {\n    if (this.unloaded) {\n      return;\n    }\n    // in case navigateTo inside App.onLaunch\n    if (!this.$loadTime) {\n      this.load();\n      return;\n    }\n    if (this.shown) {\n      return;\n    }\n    this.shown = true;\n    EventHub.emit('enterPage', { page: this });\n    this.executeUserMethod('onShow');\n    log('framework: page onShow', this.pagePath);\n  },\n  pullDownRefresh(e) {\n    EventHub.emit('pullDownRefresh', { page: this });\n    this.executeUserMethod('onPullDownRefresh', [e]);\n  },\n  hide() {\n    if (this.unloaded) {\n      return;\n    }\n    if (!this.$loadTime) {\n      return;\n    }\n    if (!this.shown) {\n      return;\n    }\n    this.shown = false;\n    EventHub.emit('leavePage', { page: this });\n    EventHub.emit('pageHide', { page: this });\n    this.executeUserMethod('onHide');\n    log('framework: page onHide', this.pagePath);\n  },\n  unload() {\n    log('framework: page onUnload', this.pagePath);\n    if (this.unloaded || !this.$loadTime) {\n    // remove from page stack\n      EventHub.emit('pageUnload', { page: this });\n      return;\n    }\n    this.unloaded = true;\n    this.unmountAllComponents();\n    invokeWithGuardAndReThrow(this.publicInstance.onUnload, this.publicInstance);\n    EventHub.emit('leavePage', { page: this });\n    EventHub.emit('pageUnload', { page: this });\n  },\n  unmountAllComponents() {\n    const oldComponentInstances = this.componentInstances;\n    this.componentInstances = {};\n    objectKeys(oldComponentInstances).forEach((k) => {\n      oldComponentInstances[k].unload();\n    });\n  },\n  isLoaded() {\n    return !!this.$loadTime && !this.unloaded;\n  },\n  startRender(isRefresh) {\n    const { publicInstance, id } = this;\n\n    const config = {};\n    publicInstanceMethods.forEach((k) => {\n      const hookFn = publicInstance[k];\n      if (typeof hookFn === 'function' && hookFn !== noop) {\n        config[k] = true;\n      }\n    });\n    const componentsConfig = {};\n\n    getAllUsingComponents(this.pagePath).forEach((component) => {\n      const ComponentClass = getComponentClass(component);\n      componentsConfig[component] = {\n        props: ComponentClass.props,\n        data: { ...ComponentClass.data },\n      };\n    });\n    // 此时发消息给bridge触发render的渲染，并且带了firstData过去\n    this.callRemote('self', 'startRender', {\n      id,\n      isRefresh,\n      publicInstance: config,\n      componentsConfig,\n      data: { ...publicInstance.data },\n    });\n  },\n  getViewId() {\n    return this.publicInstance.$viewId;\n  },\n  setViewId(viewId) {\n    this.publicInstance.$viewId = viewId;\n  },\n  getComponentInstance(id) {\n    if (String(id) === '1') {\n      return this;\n    }\n    return this.componentInstances[id];\n  },\n  getComponentBy(by, config = {}) {\n    const instances = [];\n    const { componentInstances } = this;\n\n    if (componentInstances) {\n      const keys = objectKeys(componentInstances);\n      for (let i = 0; i < keys.length; i+=1) {\n        const { publicInstance } = componentInstances[keys[i]];\n        if (by(publicInstance)) {\n          instances.push(publicInstance);\n          if (config.returnOnFirstMatch) {\n            return instances;\n          }\n        }\n      }\n    }\n    return instances;\n  },\n\n  triggerComponentEvent(componentId, eventName, eventObject) {\n    const componentInstance = this.getComponentInstance(componentId);\n    if (componentInstance) {\n      this.batchedUpdates(() => {\n        invokeWithGuardAndReThrow(componentInstance.publicInstance[eventName], componentInstance.publicInstance, eventObject);\n      });\n    }\n  },\n\n  onTabItemTap(tabProps) {\n    this.executeUserMethod('onTabItemTap', [tabProps]);\n  },\n\n  unmountComponents(unmountedKeys) {\n    const { componentInstances } = this;\n\n    unmountedKeys.forEach((id) => {\n      if (componentInstances[id]) {\n        componentInstances[id].unload();\n        delete componentInstances[id];\n      }\n    });\n  },\n\n  updateComponents(payload) {\n    const _this = this;\n\n    if (!payload) {\n      return;\n    }\n    const { componentInstances } = this;\n\n    const mountedComponents = payload[PayloadKeyMountedComponents] || [];\n    const unmountedComponents = payload[PayloadKeyUnmountedComponents] || [];\n    // from bottom to top\n    mountedComponents.forEach((componentConfig) => {\n      const id = componentConfig[ComponentKeyId];\n      if (componentInstances[id]) {\n        componentInstances[id].setComponentConfig(componentConfig);\n      } else if (componentConfig[ComponentKeyIs]) {\n        // incase update after unmount\n        const ComponentClass = getComponentClass(componentConfig[ComponentKeyIs]);\n        componentInstances[id] = new ComponentClass(_this, id, componentConfig);\n        componentInstances[id].ready();\n      }\n    });\n    const unmountedKeys = unmountedComponents.concat().reverse();\n    this.unmountComponents(unmountedKeys);\n  },\n\n  ready(payload) {\n    if (this.unloaded) {\n      return;\n    }\n    if (this.readied) {\n      return;\n    }\n    this.batchedUpdates(() => {\n      this.readied = true;\n      this.update(payload);\n      EventHub.emit('pageReady', { page: this });\n      this.initialCallbacks.forEach((fn) => {\n        return fn();\n      });\n      this.executeUserMethod('onReady');\n      log('framework: page onReady', this.pagePath);\n    });\n  },\n\n  update(payload) {\n    this.batchedUpdates(() => {\n      this.updateComponents(payload);\n    });\n  },\n\n  postMessage(data) {\n    if (this.unloaded) {\n      return;\n    }\n    debug('framework', `[WORKER] Page ${this.pagePath} postMessage`, data);\n\n    this.bridge.call('postMessage', {\n      ...data,\n      pageType: this.pageType,\n      msgType: 'endpoint',\n      $viewId: this.getViewId(),\n    });\n  },\n\n  console: (function (_console) {\n    function console(_x2) {\n      return _console.apply(this, arguments);\n    }\n\n    console.toString = function () {\n      return _console.toString();\n    };\n\n    return console;\n  })(function (type) {\n  // make compiled code\n    console[type].apply(console, [].slice.call(arguments, 1, -2));\n  }),\n\n  setData(op, diffData, options_) {\n    if (this.unloaded) {\n      console.log(`${'setData(...) can only update a loaded page. ' + 'This usually means you called setData() on a unloaded page. '}` + `Please check the code for the \"${this.pagePath}\" page.`);\n      return;\n    }\n    if (!diffData) {\n      return;\n    }\n    // no need to create immutable data\n    this.publicInstance.data = op(this.publicInstance.data, diffData);\n    let options = options_ || {};\n    let callback;\n    if (typeof options_ === 'function') {\n      callback = options_;\n      options = { complete: callback };\n    }\n    if (this._disableRemoteData) {\n      if (callback) {\n        this.initialCallbacks.push(callback);\n      }\n    } else {\n      const data = {\n        [PendingKeyType]: PendingValuePage,\n        [PendingKeyData]: diffData,\n        [PendingKeyOp]: getOpStr(op),\n      };\n\n      this.setRemoteData(data, options);\n    }\n  },\n  executeUserMethod(method, args = []) {\n    const _this = this;\n\n    this.batchedUpdates(() => {\n      invokeWithGuardAndReThrow( _this.publicInstance[method], _this.publicInstance, ...args);\n    });\n  },\n  onPageScroll(...args) {\n    this.executeUserMethod('onPageScroll', args);\n  },\n  onReachBottom(...args) {\n    this.executeUserMethod('onReachBottom', args);\n  },\n  batchedUpdates(fn) {\n    if (this.isBatching) {\n      return fn();\n    }\n    this.isBatching = true;\n    try {\n      fn();\n    } finally {\n      this.isBatching = false;\n    }\n    this.flushData();\n  },\n  onRenderEvent(name, ...args) {\n    const { publicInstance } = this;\n\n    if (!publicInstance[name]) {\n      console.warn(`${this.getPagePath()}: can not find event handle method: ${name}`);\n      return;\n    }\n\n    this.executeUserMethod(name, args);\n  },\n  setRemoteData(data, { complete } = {}) {\n    this.pendingData.push(data);\n    if (complete) {\n      this.pendingCallbacks.push(complete);\n    }\n    if (this.isBatching) {\n      // do nothing\n    } else {\n      this.flushData();\n    }\n  },\n  flushData() {\n    if (this.unloaded || !this.pendingData.length) {\n      return;\n    }\n    const { pendingData, componentInstances, pendingCallbacks } = this;\n\n    this.pendingData = [];\n    this.pendingCallbacks = [];\n    // prevent invalid json pass through\n    this.callRemote('self', 'receiveData', pendingData, () => {\n      pendingCallbacks.forEach((fn) => {\n        return fn();\n      });\n    });\n  },\n};\n\n","\nimport qs from 'query-string';\nimport AppRegistry from '../AppRegistry';\nimport EventHub from '../EventHub';\nimport { getPageInfoFromUrl, getUrlFromPageInfo } from '../utils/pageInfoAndUrl';\nimport { isTabPage, getPageId } from '../utils/pageUtils';\nimport resolvePageUrl from '../utils/resolvePageUrl';\nimport checkInvalidPage from '../utils/checkInvalidPage';\nimport { loadPage } from '../SubPackage';\n\nfunction newPage({ pagePath, pageId, queryString }) {\n  // 对于通过navigate跳转的页面，直接返回已经存在的实例\n  let page = this.getPageById(pageId);\n  if (page) {\n    return page;\n  }\n  const Page = AppRegistry.getComponent(pagePath);\n  if (!Page) {\n    throw new Error(`[WORKER] page '${pagePath}' not found!`);\n  }\n  let query = {};\n  if (queryString) {\n    query = qs.parse(queryString);\n  }\n  page = Page({ id: pageId, query, pagePath });\n  this.pushPage(page);\n  return page;\n}\n\nfunction doPushWindow(doPush, { pageUrl, viewId }) {\n  const { pagePath, queryString } = this.getPageObject(pageUrl);\n\n  // 创建新的pageId\n  const pageId = getPageId();\n  const page = newPage.call(this, { pagePath, pageId, queryString });\n  // in case invalid queryString\n  const safeQueryString = qs.stringify(page.query);\n  // 这里的doPush由bridge提供，集体实现根据不同的平台，不同的实现\n  doPush({\n    url: getUrlFromPageInfo({\n      pagePath,\n      pageId,\n      queryString: safeQueryString,\n    }),\n    viewId,\n    pagePath,\n  });\n  return page;\n}\n\nfunction onTabSwitch(config) {\n  const _this = this;\n\n  const { url } = config;\n  const currentPage = config.currentPage || this.getCurrentPageImpl();\n  const { pagePath, queryString } = this.getPageObject(url);\n\n  function newTab() {\n    const page = newPage.call(_this, {\n      pagePath,\n      pageId: getPageId(pagePath, 1),\n      queryString,\n    });\n    page.fromPage = currentPage;\n  }\n\n  // from non-tab pages\n  if (!this.isTabShow()) {\n    this.clearAllPages();\n    EventHub.emit('switchTab', {\n      page: currentPage,\n    });\n    newTab();\n    return;\n  }\n  const currentPages = this.getCurrentPagesImpl();\n  const nextPages = this.getPagesByTabPath(pagePath);\n  if (!currentPages.length && !nextPages.length) {\n    return;\n  }\n  // switch to current page\n  if (currentPages === nextPages && currentPages.length === 1) {\n    return;\n  }\n  EventHub.emit('switchTab', {\n    page: currentPage,\n  });\n  const pagesLoop = currentPages.concat();\n  for (let i = pagesLoop.length - 1; i >= 1; i-=1) {\n    pagesLoop[i].unload();\n  }\n  if (currentPages === nextPages) {\n    pagesLoop[0].show();\n  } else {\n    // only onHide if current tab's stack is 1\n    if (pagesLoop.length === 1) {\n      pagesLoop[0].hide();\n    }\n    this.setCurrentPagesImpl(nextPages, pagePath);\n    const nextPage = nextPages[0];\n    if (nextPage) {\n      nextPage.fromPage = currentPage;\n      nextPage.show();\n    } else {\n      newTab();\n    }\n  }\n}\n\nconst App = {\n  newPage,\n\n  reLaunch({ url }, { pushWindow, switchTab }) {\n    const _this = this;\n\n    const currentPage = this.getCurrentPageImpl();\n    const pageUrl = resolvePageUrl(url, currentPage);\n\n    loadPage(pageUrl, () => {\n      if (checkInvalidPage(pageUrl)) {\n        return;\n      }\n      _this.clearAllPages();\n      let nextPage;\n\n      const _getPageObject3 = _this.getPageObject(pageUrl);\n      const { pagePath } = _getPageObject3;\n\n      if (getPageId(pagePath, 1)) {\n        // already clear all pages, need pass currentPage to switchTab\n        _this.switchTab({ url: `/${pageUrl}` }, { doSwitch: switchTab, currentPage });\n      } else {\n        nextPage = doPushWindow.call(_this, pushWindow, { pageUrl });\n        nextPage.fromPage = currentPage;\n      }\n    });\n  },\n\n  navigateTo({ url, viewId }, { pushWindow }) {\n    const _this = this;\n\n    const currentPage = this.getCurrentPageImpl();\n    const pageUrl = resolvePageUrl(url, currentPage);\n    loadPage(pageUrl, () => {\n      if (checkInvalidPage(pageUrl)) {\n        return;\n      }\n      currentPage.hide();\n      const nextPage = doPushWindow.call(_this, pushWindow, { pageUrl, viewId });\n      nextPage.fromPage = currentPage;\n    });\n  },\n\n  redirectTo({ url }, { pushWindow }) {\n    const _this = this;\n\n    const currentPage = this.getCurrentPageImpl();\n    const pageUrl = resolvePageUrl(url, currentPage);\n    loadPage(pageUrl, () => {\n      if (checkInvalidPage(pageUrl)) {\n        return;\n      }\n      if (isTabPage(currentPage)) {\n        _this.clearAllPages();\n      } else {\n        currentPage.unload();\n      }\n      const nextPage = doPushWindow.call( _this, pushWindow, { pageUrl });\n      nextPage.fromPage = currentPage;\n    });\n  },\n\n  switchTab({ url, ...tabProps }, { doSwitch, currentPage } = {}) {\n    const _this = this;\n\n    const pageUrl = resolvePageUrl(url, this.getCurrentPageImpl());\n    loadPage(pageUrl, () => {\n      if (checkInvalidPage(pageUrl)) {\n        return;\n      }\n\n      const { pagePath } = _this.getPageObject(pageUrl);\n\n      onTabSwitch.call(_this, { url: pageUrl, currentPage });\n      if (doSwitch) {\n        doSwitch({ pagePath });\n      } else {\n        // click tab. bug: switchTab api will also trigger native tabClick event\n        const page = _this.getCurrentPageImpl();\n        if (page) {\n          if (page.isLoaded()) {\n            page.onTabItemTap(tabProps);\n          } else {\n            page.tabProps = tabProps;\n            page._fromTabItemTap = 1;\n          }\n        }\n      }\n    });\n  },\n\n  destroyPageByUrl(pageUrl) {\n    const { id } = getPageInfoFromUrl(pageUrl);\n\n    const allPages = this.getAllPages();\n    // after reLaunch the same tab....\n    if (allPages.length === 1 && allPages[0].getId() === id) {\n      return;\n    }\n    const page = this.getPageById(id);\n    if (page) {\n      page.unload();\n    }\n  },\n\n  pausePageByUrl(url) {\n    const { id } = getPageInfoFromUrl(url);\n\n    const page = this.getPageById(id);\n    if (page) {\n      page.hide();\n    }\n  },\n\n  resumePageByUrl(url) {\n    const { id } = getPageInfoFromUrl(url);\n\n    const page = this.getPageById(id);\n    if (page) {\n      page.show();\n    }\n  },\n};\n\nexport default App;\n","\nimport { debug } from '@/utils/log';\n\nfunction noop() {}\n\nconst MessageHandle = {\n  getCallbackId() {\n    this.callbackSeq = this.callbackSeq || 0;\n    this.callbackSeq += 2;\n    return this.callbackSeq;\n  },\n  setId(id) {\n    this.id = id;\n  },\n  getId() {\n    return this.id;\n  },\n  getPagePath() {\n    return this.pagePath;\n  },\n  onMessage(event) {\n    const _this = this;\n\n    if (this.unloaded) {\n      return;\n    }\n    let { data } = event;\n\n    if (typeof data === 'string') {\n      data = JSON.parse(data).data;\n    }\n\n    const { method, args, caller, successCallback, errorCallback } = data;\n\n    if (caller !== 'bridge' || method !== 'console') {\n      debug('framework', `[${this.pageType}] Page ${this.pagePath} onMessage`, data);\n    }\n    const callPath = caller && caller.split('.') || [];\n    let callObj = this;\n    callPath.forEach((p) => {\n      callObj = callObj && callObj[p];\n    });\n\n    if (callObj) {\n      if (!args) {\n        debug('framework', `[${this.pageType}] Page ${this.pagePath} unhandled message`, event.data);\n        return;\n      }\n      const myArgs = args.concat();\n      if (successCallback) {\n        myArgs.push((...a) => {\n          _this.callRemote.apply(_this, ['self', 'invokeCallback', successCallback].concat(a));\n        });\n      } else {\n        myArgs.push(noop);\n      }\n      if (errorCallback) {\n        myArgs.push((...a) => {\n          _this.callRemote.apply(_this, ['self', 'invokeCallback', errorCallback].concat(a));\n        });\n      } else {\n        myArgs.push(noop);\n      }\n      if (callObj[method]) {\n        let _callObj;\n\n        (_callObj = callObj)[method].apply(_callObj, myArgs);\n        return;\n      }\n    }\n    debug('framework', `[${this.pageType}] Page ${this.pagePath} unhandled message`, event.data);\n  },\n\n  invokeCallback(callbackId, ...args) {\n    if (this.unloaded) {\n      return;\n    }\n    const { callbacks } = this;\n    if (callbacks) {\n      if (callbackId && callbacks[callbackId]) {\n        callbacks[callbackId].apply(callbacks, args);\n      }\n      if (callbackId % 2 === 0) {\n        callbackId -= 1;\n      }\n      // success and error\n      delete callbacks[callbackId];\n      delete callbacks[callbackId + 1];\n    }\n  },\n  callRemote(caller, method, ...args) {\n    if (this.unloaded) {\n      return;\n    }\n    let successCallback;\n    let errorCallback;\n    if (typeof args[args.length - 2] === 'function') {\n      this.callbacks = this.callbacks || {};\n      successCallback = this.getCallbackId() - 1;\n      this.callbacks[successCallback] = args[args.length - 2];\n      errorCallback = successCallback + 1;\n      this.callbacks[errorCallback] = args[args.length - 1];\n      args.pop();\n      args.pop();\n    } else if (typeof args[args.length - 1] === 'function') {\n      this.callbacks = this.callbacks || {};\n      successCallback = this.getCallbackId() - 1;\n      this.callbacks[successCallback] = args[args.length - 1];\n      errorCallback = successCallback + 1;\n      args.pop();\n    }\n\n    this.postMessage({\n      caller,\n      method,\n      id: this.getId(),\n      successCallback,\n      errorCallback,\n      args,\n    });\n  },\n};\n\nexport default MessageHandle;\n","\nimport { getStartupParams, setStartupParams } from '@/utils/startupParams';\n\nexport {\n  getStartupParams,\n  setStartupParams,\n};\n","\nlet appImpl;\nconst g = self;\n\nexport function setAppImpl(app) {\n  appImpl = app;\n  g.__appImpl = appImpl;\n}\n\nexport function getAppImpl() {\n  return appImpl;\n}\n","\nimport AppRegistry from '../AppRegistry';\n\nexport default function checkInvalidPage(pageUrl) {\n  let page = pageUrl;\n  if (page.charAt(0) === '/') {\n    page = pageUrl.slice(1);\n  }\n  const index = page.indexOf('?');\n  if (index !== -1) {\n    page = page.slice(0, index);\n  }\n  if (!AppRegistry.getRunnable(page)) {\n    console.error(`framework error: can not find page: ${pageUrl}`);\n    return true;\n  }\n}\n","\nif (!global.Symbol) {\n  let id = 0;\n  const _Symbol = function Symbol(key) {\n    return `$$_mp_symbol_${key}_${++id}_$$`;\n  };\n  _Symbol.iterator = _Symbol('Symbol.iterator');\n  global.Symbol = _Symbol;\n}\n","\nimport invokeWithGuardAndReThrow from '@/utils/invokeWithGuardAndReThrow';\n\nexport default function fireComponentLifecycle(componentConfig, context, method, args = []) {\n  const { mixins = [] } = componentConfig;\n\n  mixins.forEach((m) => {\n    if (m[method]) {\n      invokeWithGuardAndReThrow.apply(undefined, [m[method], context].concat(args));\n    }\n  });\n  if (componentConfig[method]) {\n    invokeWithGuardAndReThrow.apply(undefined, [componentConfig[method], context].concat(args));\n  }\n}\n","\nimport objectKeys from '@/utils/objectKeys';\n\nfunction safeAssign(to, from, prop) {\n  if (from) {\n    objectKeys(from).forEach((key) => {\n      if (key in to) {\n        throw new Error(`Tried to merge two objects with the same key: \\`${key}\\`. This conflict is due to \\`${prop}\\` of a component mixin.`);\n      }\n      to[key] = from[key];\n    });\n  }\n}\nexport default function getComponentProp(componentConfig, prop, caches = false, args = []) {\n  const _this = this;\n\n  if (caches && caches[prop]) {\n    return caches[prop];\n  }\n  const _componentConfig$mixi = componentConfig.mixins;\n  const mixins = _componentConfig$mixi === undefined ? [] : _componentConfig$mixi;\n\n  const ret = {};\n  mixins.forEach((m) => {\n    let v = m[prop];\n    if (typeof v === 'function') {\n      v = v.apply(_this, args);\n    }\n    safeAssign(ret, v, prop);\n  });\n  {\n    let v = componentConfig[prop];\n    if (typeof v === 'function') {\n      v = v.apply(this, args);\n    }\n    safeAssign(ret, v, prop);\n  }\n  if (caches) {\n    caches[prop] = ret;\n  }\n  return ret;\n}\n","\nimport $global from '../common/global';\n\nconst pageMatchReg = /#([^?]+)(\\?.+)?/;\nconst MP_PAGE_ID = '__mpPageId';\nconst pageIdMatch = new RegExp(`[&?]${MP_PAGE_ID}=(\\\\d+)(?:&|$)`);\n\nexport function getUrlFromPageInfo({ pagePath, pageId, queryString }) {\n  return `#${pagePath}?${MP_PAGE_ID}=${pageId}${queryString ? `&${queryString}` : ''}`;\n}\n\nexport function getPageInfoFromUrl(url) {\n  let id;\n  const pageMatch = url && url.match(pageMatchReg);\n  let pagePath = pageMatch && pageMatch[1];\n  if (pagePath && pagePath.charAt(0) === '/') {\n    pagePath = pagePath.slice(1);\n  }\n  let queryString = pageMatch && pageMatch[2] || '';\n  const idMatch = queryString.match(pageIdMatch);\n  if (idMatch) {\n    id = parseInt(idMatch[1], 10);\n    queryString = queryString.replace(pageIdMatch, '');\n  }\n  if (queryString.charAt(0) === '?') {\n    queryString = queryString.slice(1);\n  }\n  id = id || $global.tabsConfig[pagePath] || 0;\n  return {\n    id,\n    pagePath,\n    queryString,\n  };\n}\n","import $global from '../common/global';\n\nconst START_TAB_ID = 10;\nconst END_TAB_ID = 100;\n// 0-100 reserved for tab pages\nlet globalPageId = END_TAB_ID;\n\nexport function getPageId(pagePath, useTab) {\n  if (useTab) {\n    return $global.tabsConfig[pagePath];\n  }\n  return ++globalPageId;\n}\n\nexport function isTabPage(page) {\n  const id = page.getId();\n  return id >= START_TAB_ID && id <= END_TAB_ID;\n}\n","\nimport resolveUrl from './resolveUrl';\n\nexport default function resolvePageUrl(pagePath, currentPage) {\n  let url = pagePath;\n  let queryString = '';\n  const queryIndex = url.indexOf('?');\n  if (queryIndex !== -1) {\n    queryString = url.slice(queryIndex + 1);\n    url = url.slice(0, queryIndex);\n  }\n  if (url.charAt(0) === '/') {\n    url = url.slice(1);\n  } else if (currentPage) {\n    const refer = currentPage.getPagePath();\n    url = resolveUrl(url, refer);\n  }\n  queryString = queryString ? `?${queryString}` : queryString;\n  return `${url}${queryString}`;\n}\n","\nimport startsWith from '@/utils/startsWith';\n\nexport default function resolveUrl(path, refered) {\n  if (startsWith(path, '/')) {\n    return path;\n  }\n  if (!startsWith(path, './') && !startsWith(path, '../')) {\n    path = `./${path}`;\n  }\n  const referedParts = refered.split('/');\n  if (referedParts[referedParts.length - 1]) {\n    referedParts.pop();\n  }\n  const parts = referedParts.concat(path.split('/'));\n  const res = [];\n  parts.forEach((p) => {\n    // ignore empty parts\n    if (!p || p === '.') {\n      return;\n    }\n    if (p === '..') {\n      res.pop();\n    } else {\n      res.push(p);\n    }\n  });\n  return res.join('/');\n}\n","import './polyfill';\n\nimport qs from 'query-string';\nimport { debug } from '@/utils/log';\nimport { getAppImpl, getCurrentPagesImpl } from '../App';\nimport { getStartupParams } from '../startupParams';\nimport { loadPage } from '../SubPackage';\nimport getScene from '@/utils/getScene';\n\nlet appLaunched;\nconst g = self;\n\nlet started = true;\nlet queue = [];\n\nfunction processLoadPage(event) {\n  const { pagePath } = event.data;\n  loadPage(pagePath, () => {\n    const appImpl = getAppImpl();\n    const { queryString, id: pageId, viewId } = event.data;\n    const page = appImpl.newPage({ pagePath, queryString, pageId });\n    page.setViewId(viewId);\n\n    // refresh page\n    if (page.$loadTime) {\n      page.refresh();\n      return;\n    }\n    if (!appLaunched) {\n      const launchOptions = {\n        path: pagePath,\n      };\n\n      const { query, referrerInfo } = getStartupParams();\n\n      if (query) {\n        launchOptions.query = qs.parse(query);\n      }\n      launchOptions.scene = getScene(getStartupParams());\n      if (referrerInfo) {\n        launchOptions.referrerInfo = JSON.parse(referrerInfo);\n      }\n      appLaunched = true;\n      appImpl.launch(launchOptions);\n    }\n    const pages = getCurrentPagesImpl();\n    // tab a -> tab b quickly change to -> tab a\n    // or redirect/reLaunch/navigateTo on App.onLaunch\n    if (pages && pages[pages.length - 1] === page) {\n      page.load();\n    }\n  });\n}\n\nfunction processEndpoint(event) {\n  const { id: pageId } = event.data;\n  const appImpl = getAppImpl();\n  const page = appImpl.getPageById(pageId);\n\n  page.onMessage(event);\n}\n\nfunction processMessage(event) {\n  const { msgType } = event.data;\n    if (msgType === 'DOMContentLoaded') {\n      processLoadPage(event)\n    }\n    if (msgType === 'endpoint') {\n      processEndpoint(event)\n    }\n}\n\ng.send = (event) => {\n  debug('framework', '[WORKER] App Received Message:', event.data);\n  \n  if (started) {\n    processMessage(event)\n  } else {\n    queue.push(event);\n  }\n}\n\ng.addEventListener('message', g.send)\n\nexport function pauseApp() {\n  started = false;\n}\n\nexport default function bootstrap() {\n  started = true;\n  queue.forEach(processMessage);\n  queue = [];\n}\n","\nconst g = self;\n\n/* 实现worker中的importScripts */\nconst importScriptsPolyfill = (...urls) => {\n  if (!urls.length) {\n    return;\n  }\n  urls.forEach((url) => {\n    try {\n      const xhr = new XMLHttpRequest();\n      xhr.open('GET', url, false);\n      xhr.send();\n      const contentType = xhr.getResponseHeader('content-type');\n      if (/(java|ecma)script/.test(contentType)) {\n        eval(xhr.responseText);\n      }\n    } catch(err) {\n      console.error(err);\n    }\n  });\n};\n\ng.importScripts = g.importScripts || importScriptsPolyfill;\n","import bridge from '@/apis/';\n\nimport {\n  EventHub,\n  getStartupParams,\n  setStartupParams,\n  getApp,\n  App,\n  getCurrentPagesImpl,\n  getCurrentPageImpl,\n  getCurrentPages,\n  getAppImpl,\n  Component,\n  Page,\n  $global,\n} from './framework/';\n\nconst __mpStartTime = Date.now();\n\nself.MP = {\n  bridge,\n  EventHub,\n  getStartupParams,\n  setStartupParams,\n  getApp,\n  App,\n  getCurrentPagesImpl,\n  getCurrentPageImpl,\n  getCurrentPages,\n  getAppImpl,\n  Component,\n  Page,\n  $global,\n};\n\nconst __mpCosts = Date.now() - __mpStartTime;\nconsole.log(`framework: worker bundle costs ${__mpCosts} ms`);\n","import gerror from './gerror';\n\nexport default class EventEmitter {\n  constructor() {\n    this.allListeners = {};\n  }\n\n  _addListener(_types, listener, options = {}) {\n    const _this = this;\n\n    let types = _types;\n    if (!Array.isArray(types)) {\n      types = [types];\n    }\n    const { allListeners } = this;\n\n    types.forEach((type) => {\n      const fns = allListeners[type] = allListeners[type] || [];\n      if (fns.indexOf(listener) !== -1) {\n        return;\n      }\n      if (options.prepend) {\n        fns.unshift(listener);\n      } else {\n        fns.push(listener);\n      }\n    });\n    return {\n      remove: function remove() {\n        _this.removeListener(types, listener);\n      },\n    };\n  }\n\n  addListener(types, listener) {\n    return this._addListener(types, listener);\n  }\n\n  prependListener(types, listener) {\n    return this._addListener(types, listener, { prepend: true });\n  }\n\n  listeners(type) {\n    return type ? this.allListeners[type] || [] : this.allListeners;\n  }\n\n  listenerCount(type) {\n    if (type) {\n      return this.listeners(type).length;\n    } else {\n      const { allListeners } = this;\n\n      const keys = Object.keys(allListeners);\n      let count = 0;\n      for (let i = 0, l = keys.length; i < l; i++) {\n        const key = keys[i];\n        count += allListeners[key] && allListeners[key].length || 0;\n      }\n      return count;\n    }\n  }\n\n  emit(_types, ...args) {\n    let types = _types;\n    if (!Array.isArray(types)) {\n      types = [types];\n    }\n    const loopListeners = { ...this.allListeners };\n    types.forEach((type) => {\n      const fns = loopListeners[type];\n      if (fns) {\n        fns.concat().forEach((f) => {\n          try {\n            f.apply(undefined, args);\n          } catch (e) {\n            gerror(e);\n          }\n        });\n      }\n    });\n  }\n\n  removeListener(_types, listener) {\n    let types = _types;\n    if (!Array.isArray(types)) {\n      types = [types];\n    }\n    const { allListeners } = this;\n\n    types.forEach((type) => {\n      const fns = allListeners[type];\n      if (fns) {\n        if (listener) {\n          const index = fns.indexOf(listener);\n          if (index !== -1) {\n            fns.splice(index, 1);\n          }\n        } else {\n          delete allListeners[type];\n        }\n      }\n    });\n  }\n\n  on(...args) {\n    this.addListener(...args);\n  }\n\n  off(...args) {\n    this.removeListener(...args);\n  }\n}\n","\nimport { getStartupParams } from '@/framework/startupParams';\n\nexport const TAC = 'TAC';\n\nexport function APP_BIZ() {\n  return `TinyAppBiz-${getStartupParams().appId}`;\n}\n","\nimport objectKeys from './objectKeys';\n\n/**\n * 拆分类型键名里真正的 key 和对应的 type\n * @method _separateTypeKey\n * @param  {String}         key 带类型标识的键名\n * @return {Object}             返回键名和类型标识两个字段，\n *                              如{k: 'content', t: '%s'}\n */\nfunction _separateTypeKey(key) {\n  const matches = (key || '').match(/(\\w+)(%\\w)$/i);\n  const tk = {\n    k: key,\n  };\n  if (matches) {\n    tk.k = matches[1];\n    tk.t = matches[2];\n  }\n  return tk;\n}\n/**\n * 超级字符串转换\n */\nfunction __superToString(content) {\n  let str = content;\n  if (typeof content === 'object') {\n    str = JSON.stringify(content);\n  } else {\n    str = `${content}`;\n  }\n  return str;\n}\n/**\n * 16进制颜色转成10进制数字\n * @method __h2dColor\n * @param  {String}   hex 16进制颜色字符串\n * @return {Number}       10进制数字\n */\nfunction __h2dColor(hex) {\n  let dec = `${hex}`;\n  // 如果加了#号，去掉\n  if (dec.indexOf('#') === 0) {\n    dec = dec.substr(1);\n  }\n  // 如果是3位简写，补全成6位\n  if (dec.length === 3) {\n    dec = dec.replace(/(.)/g, '$1$1');\n  }\n  dec = parseInt(dec, 16);\n  if (isNaN(dec)) {\n    console.error(`${hex} is invalid hex color.`);\n  }\n  return dec;\n}\n/**\n * 移除 base64 数据头，native 接口不需要传入头部\n * @method __removeBase64Head\n * @param  {String}           base64 有头数据\n * @return {String}                  无头数据\n */\nfunction __removeBase64Head(base64) {\n  if (typeof base64 === 'string') {\n    base64 = base64.replace(/^data:(\\/|\\w|\\-|\\.)+;base64,/i, '');\n  }\n  return base64;\n}\n/**\n * 把值转换成相应类型\n * @method toType\n * @param  {String} type  类型标识，目前支持\n *                        %s(字符串)\n *                        %c(16转10进制颜色)\n *                        %h(10转16进制颜色)\n *                        %b(移除 base64 数据格式头)\n *                        %a{mimeType}(添加 base64 数据头)\n *                        %d(整数)\n *                        %f(浮点数)\n * @param  {any} value 待转换值，类型未知\n * @return {any}       转换好的相应类型的\n */\nexport function toType(type, value) {\n  if (type === '%s') {\n    value = __superToString(value);\n  } else if (type === '%c') {\n    value = __h2dColor(value);\n  } else if (type === '%b') {\n    value = __removeBase64Head(value);\n  } else if (type === '%d') {\n    value = parseInt(value, 10);\n  } else if (type === '%f') {\n    value = parseFloat(value);\n  }\n  return value;\n}\n/**\n * 处理对象映射关系\n * @method _mapping\n * @param  {Object}  tObj 原始目标对象\n * @param  {Object}  map 映射关系，如{content: 'text'}，\n *                       即把 sObj.content 的值赋给 tObj.text，\n *                       并删除 tObj 的 content 属性，\n *                       所以 content 就是 sKey，text 就是 tKey。\n *                       可以把 map 对象中的冒号(:)理解成 to，\n *                       即 {content to text}。\n *                       其中 tKey 的值的最后可以加 %s 等类型标识转换成相应类型，\n *                       注意：要加到 最后赋值给 tObj 的 那个 tKey 的后面。\n *                       这么做的目的是因为：\n *                       有些接口的入参字段直接传入 非字符串 值时，接口完全无响应，\n *                       比如 JSBridge.call('alert',{message: 12345})\n *\n * @param  {Object} sObj 参照来源对象\n * @return {Object}     处理映射后的 tObj\n */\nexport function mapping(tObj, map, sObj) {\n  let typeKey;\n  sObj = sObj || {};\n  objectKeys(map).forEach((sKey) => {\n    let tKey = map[sKey];\n    typeKey = _separateTypeKey(tKey);\n    // 目标 key\n    tKey = typeKey.k;\n    // 映射条件，否则不赋值，避免添加 value 为 undefined 的 key\n    if (tKey !== undefined && ( // 目标 key 定义过\n      sKey in tObj || sKey in sObj) // 源数据至少有一个有效\n        && tObj[tKey] === undefined // 目标数据空缺待赋值\n    ) {\n      // sKey 既可以是 sObj 的，也可以是 tObj 自己的，但sObj 优先级高于原始 tObj\n      // 即 sObj[sKey]的值 会覆盖 tObj[sKey]的值\n      // 并且要根据 type 占位符做相应类型转换\n      tObj[tKey] = toType(typeKey.t, sObj[sKey] === undefined ? tObj[sKey] : sObj[sKey]);\n      // 删除原始 tObj 中的 sKey，tKey 和 sKey 同名时不做删除\n      if (tKey !== sKey) {\n        delete tObj[sKey];\n      }\n    }\n  });\n  return tObj;\n}\nexport function apCallback(params = {}, res) {\n  const { complete } = params;\n  const { success } = params;\n  const { fail } = params;\n\n  if (res && res.error) {\n    if (fail) {\n      fail(res);\n    }\n  } else if (success) {\n    success(res);\n  }\n  if (complete) {\n    complete(res);\n  }\n}\n","\nexport const PendingKeyType = 't';\n\nexport const PendingKeyId = 'i';\n\nexport const PendingKeyData = 'd';\n\nexport const PendingKeyOp = 'o';\n\nexport const PendingValuePage = 1;\n\nexport const PendingValueComponent = 2;\n\nexport const OpSet = 1;\n\nexport const OpSplice = 2;\n\nexport const PayloadKeyMountedComponents = 'm';\n\nexport const PayloadKeyUnmountedComponents = 'u';\n\nexport const ComponentKeyId = 'i';\n\nexport const ComponentKeyIs = 's';\n\nexport const ComponentKeyDiffProps = 'd';\n\nexport const ComponentKeyOwnerId = 'o';\n\nexport const DiffKeyUpdated = 'u';\n\nexport const DiffKeyDeleted = 'e';\n\nexport const ComponentKeyName = 'n';\n","\nexport default function endsWith(str, suffix) {\n  return str && str.slice(0 - suffix.length) === suffix;\n}\n","\nexport const WORKER_GLOBAL_ERROR = 11;\nexport const RENDER_GLOBAL_ERROR = 12;\nexport const REGISTER_WORKER_ERROR = 13;\nexport const CUSTOM_WORKER_ERROR = 14;\n\n\n// WORKER_GLOBAL_ERROR,\n// RENDER_GLOBAL_ERROR,\n// REGISTER_WORKER_ERROR,\n// CUSTOM_WORKER_ERROR,\n","\nexport default ({\n\n});\n","\nexport default ({\n  'zm-evaluation': '63300045',\n});\n","\nconst g = self;\n\nexport default function gerror(e) {\n  if (!e.message) {\n    e = new Error(e);\n  }\n  if (g.onerror) {\n    g.onerror(e.message, e.sourceURL, e.line, e.column, e);\n  } else {\n    console.error(e);\n  }\n}\n","\nconst g = self;\nconst applicationId = 1000000;\n\nexport function getCachedApplicationId() {\n  return applicationId;\n}\n\nexport default function getApplicationId(callback) {\n  if (applicationId) {\n    return callback(applicationId);\n  }\n  // g.registration.pushManager.getSubscription().then(function (subscription) {\n  //     if (subscription && subscription.applicationId) {\n  //         applicationId = subscription.applicationId;\n  //         callback(applicationId);\n  //     } else {\n  //         setTimeout(function () {\n  //             getApplicationId(callback);\n  //         }, 150);\n  //     }\n  // }).catch(function (e) {\n  //     Object(_gerror__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(e);\n  // });\n}\n","\nimport { getCurrentPageImpl } from '@/framework/App';\n\nexport default function getCurrentViewId() {\n  const page = getCurrentPageImpl();\n  return page && page.getViewId();\n}\n","\nconst g = global;\n\nexport default function getHomePage() {\n  const { mpAppJson } = g;\n\n  const { $homepage } = mpAppJson && mpAppJson.app || {};\n\n  return $homepage;\n}\n","\nfunction getScene(startupParams) {\n  return startupParams.ap_framework_sceneId;\n}\n\nexport default getScene;\n","import gerror from './gerror';\n\nconst g = self;\nexport default function invokeWithGuardAndReThrow(fn, context = null, ...args) {\n  if (!fn) {\n    return;\n  }\n  try {\n    return fn.apply(context, args);\n  } catch (e) {\n    gerror(e);\n  }\n}\n","\nimport { getStartupParams } from './startupParams';\n\nconst debugMatchCache = {};\n\nexport function isDebug() {\n  return !!getStartupParams().debug;\n}\nexport function isDebugFramework() {\n  return isDebugSupported('framework');\n}\nexport function isDebugSupported(type) {\n  let isMatch = debugMatchCache[type];\n  if (isMatch === undefined) {\n    const _getStartupParams = getStartupParams();\n    const { debug } = _getStartupParams;\n\n    if (debug) {\n      debugMatchCache[type] = isMatch = !!debug.match(new RegExp(`\\\\b${type}\\\\b`));\n    }\n  }\n  return isMatch;\n}\n","\nimport { getStartupParams } from './startupParams';\n\nfunction getPagePath(url) {\n  let index = url.indexOf('#');\n  if (index !== -1) {\n    url = url.slice(0, index);\n  }\n  index = url.indexOf('?');\n  if (index !== -1) {\n    url = url.slice(0, index);\n  }\n  return url;\n}\n// pushWindow https://m.taobao.com\nexport default function isMiniAppPage(pageUrl) {\n  const _getStartupParams = getStartupParams();\n  const { url } = _getStartupParams;\n\n  if (pageUrl && url) {\n    return getPagePath(url) === getPagePath(pageUrl);\n  }\n  return true;\n}\n","\nimport endsWith from './endsWith';\nimport ap from '@/apis/ap';\n\nexport default function (extraAppId) {\n  let Loaded = false;\n  const res = ap.callInternalAPISync('addPkgRes', {\n    resAppId: extraAppId,\n  });\n  res && res.urls && res.urls.forEach((item) => {\n    if (!Loaded && endsWith(item, 'index.worker.js')) {\n      importScripts(item);\n      Loaded = true;\n    }\n  });\n}\n","\nimport { isDebug, isDebugSupported } from './isDebug';\n\nfunction internalLog(args) {\n  console.log.apply(console, args);\n}\n\nexport default function log(...args) {\n  if (isDebug()) {\n    internalLog(args);\n  }\n}\n\nexport function debug(type, ...rest) {\n  if (isDebugSupported(type)) {\n    internalLog([`[${type}]`].concat(rest));\n  }\n}\n","\nexport default function mergeArray(target, from) {\n  from.forEach((f) => {\n    if (target.indexOf(f) === -1) {\n      target.push(f);\n    }\n  });\n  return target;\n}\n","\nexport default function objectKeys(obj) {\n  if (obj && typeof obj === 'object') {\n    return Object.keys(obj);\n  }\n  return [];\n}\n","\nimport { getCurrentPageImpl } from '@/framework/App';\n\nexport default function reportError(code, e, count = 0) {\n  if (count === 10) {\n    return;\n  }\n  const page = getCurrentPageImpl();\n  if (page) {\n    page.callRemote('bridge', 'reportError', code, e);\n  } else {\n    setTimeout(() => {\n      reportError(code, e, count + 1);\n    }, 100);\n  }\n}\n","\nimport startsWith from './startsWith';\n\nexport default function resolvePath(path, refered) {\n  if (!startsWith(path, './') && !startsWith(path, '../')) {\n    return path;\n  }\n  const referedParts = refered.split('/');\n  if (referedParts[referedParts.length - 1]) {\n    referedParts.pop();\n  }\n  const parts = referedParts.concat(path.split('/'));\n  const res = [];\n  parts.forEach((p) => {\n    // ignore empty parts\n    if (!p || p === '.') {\n      return;\n    }\n    if (p === '..') {\n      res.pop();\n    } else {\n      res.push(p);\n    }\n  });\n  let ret = res.join('/');\n  if (startsWith(refered, '/') && !startsWith(ret, '/')) {\n    ret = `/${ret}`;\n  }\n  return ret;\n}\n","\nexport default function securityPatch() {\n  const g = self;\n  if (typeof Function !== 'undefined') {\n    // make sure function t(){} instanceof Function === true\n    const empty = {};\n    const FakeFunction = function FakeFunction() {\n      if (arguments.length > 0 && arguments[arguments.length - 1] === 'return this') {\n        return function () {\n          return empty;\n        };\n      }\n    };\n\n    FakeFunction.prototype = Function.prototype;\n    FakeFunction.prototype.constructor = FakeFunction;\n    g.Function = FakeFunction;\n  }\n  // g.eval = null;\n  const originalSetTimeout = setTimeout;\n  const originalSetInterval = setInterval;\n  g.setTimeout = function (fn, time) {\n    if (typeof fn !== 'function') {\n      return;\n    }\n    return originalSetTimeout(fn, time);\n  };\n  g.setInterval = function (fn, time) {\n    if (typeof fn !== 'function') {\n      return;\n    }\n    return originalSetInterval(fn, time);\n  };\n}\n","\nimport objectKeys from './objectKeys';\nimport stringToPath from './stringToPath';\nimport shallowEqual from './shallowEqual';\nimport { OpSet, OpSplice } from './consts';\n\nfunction isNumber(value) {\n  return typeof value === 'number';\n}\nfunction isArray(obj) {\n  return Array.isArray(obj);\n}\nfunction clone(obj, assumeArray) {\n  if (!obj) {\n    return assumeArray ? [] : {};\n  } else if (isArray(obj)) {\n    return obj.slice();\n  }\n  return { ...obj };\n}\nfunction set(dest, src, path, changeCallback, deepLevel) {\n  const currentPath = path[0];\n  if (deepLevel && dest === src || !dest) {\n    dest = clone(src, isNumber(currentPath));\n  }\n  if (path.length === 1) {\n    return changeCallback(dest, currentPath);\n  }\n  if (src) {\n    src = src[currentPath];\n  }\n  dest[currentPath] = set(dest[currentPath], src, path.slice(1), changeCallback, true);\n  return dest;\n}\n\nexport default function setData(data, changedData) {\n  const ret = { ...data };\n  objectKeys(changedData).forEach((pathString) => {\n    const path = stringToPath(pathString);\n    set(ret, ret, path, (clonedObj, finalPath) => {\n      clonedObj[finalPath] = changedData[pathString];\n      return clonedObj;\n    });\n  });\n  if (shallowEqual(ret, data)) {\n    return data;\n  }\n  return ret;\n}\n\nexport function spliceData(data, changedData) {\n  const ret = { ...data };\n  objectKeys(changedData).forEach((pathString) => {\n    const path = stringToPath(pathString);\n    set(ret, ret, path, (clonedObj, finalPath) => {\n      let arr = clonedObj[finalPath];\n      if (Array.isArray(arr)) {\n        arr = arr.concat();\n        arr.splice.apply(arr, changedData[pathString]);\n        clonedObj[finalPath] = arr;\n      }\n      return clonedObj;\n    });\n  });\n  if (shallowEqual(ret, data)) {\n    return data;\n  }\n  return ret;\n}\nexport function getOpStr(op) {\n  return op === setData ? OpSet : OpSplice;\n}\nexport function getOpFn(op) {\n  return op === OpSet ? setData : spliceData;\n}\n","import objectKeys from './objectKeys';\n\nexport default function shallowEqual(objA, objB) {\n  if (objA === objB) {\n    return true;\n  }\n  if (typeof objA !== 'object' || objA === null || typeof objB !== 'object' || objB === null) {\n    return false;\n  }\n  const keysA = objectKeys(objA);\n  const keysB = objectKeys(objB);\n  const len = keysA.length;\n  if (len !== keysB.length) {\n    return false;\n  }\n  for (let i = 0; i < len; i++) {\n    const key = keysA[i];\n    if (!objB.hasOwnProperty(key)) {\n      return false;\n    }\n    const valueA = objA[key];\n    const valueB = objB[key];\n    if (valueA !== valueB) {\n      return false;\n    }\n  }\n  return true;\n}\n","\nexport default function startsWith(str, prefix) {\n  if (!str || !prefix) {\n    return false;\n  }\n  return str.slice(0, prefix.length) === prefix;\n}\n","\nimport { parse } from 'query-string';\nimport { getValue, setValue } from './startupParamsHolder';\n\nconst g = self;\n\nexport function setStartupParams(v) {\n  g.__mpStartupParams = v;\n  setValue(v);\n}\n\nexport function getStartupParams() {\n  if (g.__mpStartupParams) {\n    return g.__mpStartupParams;\n  }\n  let startupParams = getValue();\n  if (startupParams) {\n    return startupParams;\n  }\n  // if (Platform.browser === 'android' && !Platform.ide) {\n  //   console.error('framework: can not call getStartupParams() at the top of code!');\n  // }\n\n  const { href } = location;\n\n  const queryIndex = href.indexOf('?');\n  startupParams = {};\n  if (queryIndex !== -1) {\n    const queryString = href.slice(queryIndex + 1);\n    startupParams = parse(queryString);\n    setStartupParams(startupParams);\n  }\n  return startupParams;\n}\n","\nimport objectKeys from '../objectKeys';\n\nlet v;\n\nexport function setValue(o) {\n  if (objectKeys(o).length) {\n    v = o;\n  }\n}\nexport function getValue() {\n  return v;\n}\n\nself.__getStartupParams = getValue;\n","\nconst reLeadingDot = /^\\./;\n// a..b\n// a[][]b\nconst rePropName = /[^.[\\]]+|\\[(?:(-?\\d+)|([\"'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g;\n/** Used to match backslashes in property paths. */\nconst reEscapeChar = /\\\\(\\\\)?/g;\nconst stringToPathCache = {};\n\nexport default function stringToPath(stringPath) {\n  if (stringToPathCache[stringPath]) {\n    return stringToPathCache[stringPath];\n  }\n  const result = [];\n  if (reLeadingDot.test(stringPath)) {\n    result.push('');\n  }\n  stringPath.replace(rePropName, (match, num, quote, str) => {\n    let part = match;\n    if (quote) {\n      part = str.replace(reEscapeChar, '$1');\n    } else if (num) {\n      part = parseInt(num, 10);\n    }\n    result.push(part);\n  });\n  stringToPathCache[stringPath] = result;\n  return result;\n}\n","\nconst ua = navigator.userAgent || navigator.swuserAgent;\nconst _systemVersion = ua.match(/AlipayClient\\/(\\d+\\.\\d+\\.\\d+)/);\nconst _UCVersion = ua.match(/UCBS\\/(\\d+\\.\\d+)/);\n// expose all functions for ant fortune app\nconst systemVersion = _systemVersion && _systemVersion[1] || '100.0.0';\nconst UCVersion = _UCVersion && _UCVersion[1] || '2.12';\nconst isAndroid = ua.indexOf('Android') > -1;\nconst isIOS = !!ua.match(/\\(i[^;]+;( U;)? CPU.+Mac OS X/);\nconst isIDE = ua.indexOf('AlipayIDE') > -1;\nconst SDKVersion = '0.0.1';\nconst buildTime = '11-26 22:47:44';\nconst caches = {};\nconst cacheIntArray = {};\nconst isUC = !!(_UCVersion && _UCVersion[1]);\nconst isNativeComponent = isUC || isIOS;\n\nfunction toIntArray(v) {\n  if (cacheIntArray[v]) {\n    return cacheIntArray[v];\n  }\n  const ret = [];\n  const version = v.split('.');\n  for (let i = 0; i < version.length; i+=1) {\n    ret.push(parseInt(version[i], 10));\n  }\n  cacheIntArray[v] = ret;\n  return ret;\n}\n\nfunction compareVersion(version, targetVersion) {\n  if (version && targetVersion) {\n    const key = `${version}__${targetVersion}`;\n    if (key in caches) {\n      return caches[key];\n    }\n    version = toIntArray(version);\n    targetVersion = toIntArray(targetVersion);\n    for (let i = 0, n1, n2; i < version.length; i+=1) {\n      n1 = targetVersion[i] || 0;\n      n2 = version[i] || 0;\n      if (n1 > n2) {\n        caches[key] = -1;\n        break;\n      }\n      if (n1 < n2) {\n        caches[key] = 1;\n        break;\n      }\n    }\n    caches[key] = caches[key] || 0;\n    return caches[key];\n  }\n  return 0;\n}\n\nfunction logSystemInfo() {\n  console.log(`${'ap/SDKVersion: '}${SDKVersion}`);\n}\n\nfunction compareSystemVersion(targetVersion) {\n  return compareVersion(systemVersion, targetVersion);\n}\n\nfunction compareUCVersion(targetVersion) {\n  return compareVersion(UCVersion, targetVersion);\n}\n\n\nexport {\n  systemVersion,\n  UCVersion,\n  isAndroid,\n  isIOS,\n  isIDE,\n  SDKVersion,\n  buildTime,\n  isUC,\n  isNativeComponent,\n  compareVersion,\n  logSystemInfo,\n  compareSystemVersion,\n  compareUCVersion,\n};\n","\nexport default function upperFirstChar(str) {\n  return str.charAt(0).toUpperCase() + str.slice(1);\n}\n"],"mappings":";AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClFA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAKA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC7FA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AChBA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArEA;AAuEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvDA;AAyDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AAIA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAIA;AAEA;AAEA;AACA;AAFA;AAIA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAFA;AAKA;AACA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAIA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAEA;AACA;;;;;;;;;;;;ACnZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAIA;;;;;;;;;;;;ACrBA;AACA;AAAA;;;;;;;;;;;ACDA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;ACnBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AATA;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAGA;AAAA;AAEA;AACA;AACA;AACA;AACA;AADA;AAEA;AAAA;AAEA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAFA;AAIA;AANA;AASA;AACA;AACA;AAAA;AACA;AACA;AADA;AAEA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAlEA;AAoEA;AAEA;;;;;;;;;;;;;;;;;;;;;;;;;;AC/FA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAOA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AASA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AA/CA;AAkDA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAFA;AACA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAFA;AACA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzKA;AAEA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC9CA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAnBA;AAqBA;AACA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AADA;AAGA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAGA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AATA;AAAA;AAAA;AAAA;AACA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AACA;AAGA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AADA;AACA;AAGA;AACA;AACA;AADA;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AALA;AAYA;AA/GA;AACA;AAsIA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AApBA;AAsBA;AAEA;AACA;AAEA;;;;;;;;;;;;AC1MA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AAFA;AACA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;;;;;;;;;;;;ACvBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AAAA;AACA;AADA;AAIA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAFA;AACA;AAGA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;ACpEA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;;;AAEA;AAAA;AAEA;AACA;AACA;;;;;;AAEA;AA4BA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;AC7DA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AADA;AAKA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AADA;AADA;AAKA;AACA;AACA;AADA;AADA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AALA;AADA;AAWA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AADA;AAGA;AACA;AADA;AAJA;AAQA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AAPA;AASA;AACA;AACA;AADA;AADA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AADA;AASA;AACA;AACA;AACA;AACA;AAFA;AADA;AADA;AAQA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AACA;AACA;AACA;AAJA;AADA;AAQA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AALA;AAkBA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AADA;AADA;AAKA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAWA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAPA;AASA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AADA;AAMA;AACA;AACA;AACA;AAFA;AADA;AAMA;AAlOA;AACA;AAmOA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AADA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACvSA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AArBA;AAuBA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAlBA;AAxBA;AA8CA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAKA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAGA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAMA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBA;AAHA;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBA;AAHA;AAsBA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AADA;AAGA;AACA;AAnPA;AAsPA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AARA;AAUA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AAPA;AASA;AACA;AACA;AAEA;AA4BA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AACA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AAXA;AAAA;AAAA;AAAA;AAAA;AAcA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAAA;AAAA;AACA;AATA;;;;;;;;;;;;;;;;;AC9lBA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA9CA;AAgDA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAjBA;AACA;AAkBA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AArBA;AACA;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAVA;AAYA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAFA;AAIA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AA9cA;AAidA;;;;;;;;;;;;AC/dA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAEA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAJA;AAMA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;AC5CA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AALA;AAAA;AAAA;AAOA;AACA;AADA;AAGA;AACA;AAXA;AAAA;AAAA;AAcA;AACA;AACA;AAFA;AAIA;AACA;AAnBA;AAAA;AAAA;AAsBA;AACA;AADA;AAGA;AACA;AA1BA;AAAA;AAAA;AA6BA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAAA;AACA;AArCA;AAAA;AAAA;AAwCA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AAAA;AACA;AAhDA;AAAA;AAAA;AAmDA;AACA;AAAA;AACA;AACA;AACA;AAvDA;AACA;AADA;AAAA;AA2DA;AAAA;AAAA;AACA;AAAA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC/DA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AASA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AAEA;AA1JA;AACA;AA6JA;AAAA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;ACxPA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAXA;AAcA;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AALA;AAMA;AANA;AAUA;AACA;AACA;AACA;;;;;;;;;;;;AChBA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACNA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AATA;AAYA;;;;;;;;;;;;ACbA;AAAA;AAAA;AAEA;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAQA;AARA;AAAA;AACA;AAWA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AAKA;AACA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;AC7BA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AANA;AACA;AAOA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAKA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAXA;AACA;AACA;AACA;AAQA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC9EA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;;ACJA;AAAA;AACA;AACA;AACA;AACA;AACA;AALA;AAQA;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5CA;AACA;AACA;AACA;AACA;AACA;AAWA;AACA;AAEA;AAEA;AAAA;AAAA;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AANA;AAaA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AADA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAMA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AANA;AAQA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAJA;AAMA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AANA;AAJA;AAIA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAnGA;AAsGA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACnLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAUA;AACA;AAGA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AATA;AAYA;AACA;AACA;AAAA;AACA;AADA;AAIA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AAHA;AAKA;AACA;AADA;AAXA;AACA;AAeA;AACA;AACA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAJA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AADA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAEA;AACA;AACA;AAJA;AAMA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAMA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAPA;AAAA;AAAA;AACA;AAOA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAAA;AAAA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAnVA;;;;;;;;;;;;;;;;;;;;;;;;;;AC1FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AAPA;AASA;AACA;AACA;AACA;AACA;AACA;AAFA;AAIA;AACA;AALA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;AACA;AAHA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AADA;AAGA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AARA;AACA;AASA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAJA;AAAA;AACA;AAMA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAEA;AACA;AAAA;AACA;AACA;AACA;AA1HA;AA6HA;;;;;;;;;;;;ACzOA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AACA;AAOA;AACA;AACA;AACA;AAXA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAaA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAJA;AACA;AAIA;AACA;AAAA;AANA;AAMA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AANA;AAAA;AAAA;AACA;AAKA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AANA;AAQA;AAnHA;AAsHA;;;;;;;;;;;;AC1HA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;;;;;;;;;ACVA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;ACfA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;;;;;;;;;;;;;ACPA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;ACbA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;;;;;;;;;;;;ACxCA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAHA;AAKA;;;;;;;;;;;;ACjCA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;AChBA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;;;;;;;;;;;;AClBA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAEA;AACA;AADA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AADA;AACA;AAFA;AAAA;AAAA;AACA;AAMA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;AC3FA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACvBA;AAAA;AAAA;AAAA;AAEA;AACA;AAcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAbA;AACA;AAeA;AACA;AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpCA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAPA;AASA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAHA;AAKA;;;AAEA;AACA;AACA;;;AAEA;AACA;AAAA;AAAA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;AACA;AAAA;AAGA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;;;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AALA;AAOA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAEA;AACA;AACA;;;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;AC7GA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;;;;;;;;;;;;;;;;;;;ACNA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AADA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AADA;AAAA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAIA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;;;;;;;;;;;;ACzJA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;AAEA;;;;;;;;;;;;AChCA;AAAA;AAAA;AACA;AACA;;;;;;;;;;;;ACFA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAIA;AACA;AACA;;;;;;;;;;;;ACTA;AAAA;;;;;;;;;;;;ACAA;AAAA;AACA;AADA;;;;;;;;;;;;ACAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACXA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;;;;;;;;;;;;ACvBA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;;;;;;;;;;;;ACLA;AAAA;AAAA;AAEA;AAAA;AACA;AADA;AAAA;AACA;AAIA;AACA;;;;;;;;;;;;;ACRA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAJA;AAIA;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACXA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AACA;AAGA;AACA;AACA;AACA;AACA;AAAA;AACA;;;;;;;;;;;;ACrBA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAFA;AACA;AAGA;AACA;AACA;AACA;AAAA;AACA;;;;;;;;;;;;ACtBA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AADA;AACA;AACA;AAAA;AACA;AACA;AAEA;AACA;AAAA;AADA;AACA;AACA;AAAA;AACA;AACA;;;;;;;;;;;;AChBA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACPA;AACA;AACA;AACA;AACA;AAAA;AACA;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;ACdA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;;;;;;;;;;;;AC5BA;AAAA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;AC1EA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;;;;;;;;;;;;AC1BA;AAAA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;;;;;;;;;;;;ACLA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AAZA;AAAA;AAcA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;;;;;;;;;;;;AChCA;AAAA;AAAA;AAAA;AAAA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;;;;;;;;;ACbA;AAAA;AAAA;AAEA;AACA;AAAA;AACA;AACA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC3BA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;AClEA;AAAA;AAAA;AACA;AACA;;;;A","sourceRoot":""}